<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <!-- classpage -- >
    <!-- RD version: 0.44.2  -->
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
  <meta name='description' content='  Class : URI::Generic  -   Ruby 2.5.2 ' />
  <!--  no EOL indicator  -->
  <meta content="2020-03-17 23:11:40 -0500" http-equiv="change-date" />
  <!-- rel_prefix  = '..'  ENV['RDOC_FOR_WEBSITE']   = true-->
    
  <!-- rel_prefix = '..'   asset_rel_prefix = '..'  --> 
  <title>Class: URI::Generic (Ruby 2.5.2) </title>
  <link rel="stylesheet" href="../css/associated.css" type="text/css" >
  <!-- link rel="stylesheet" href="..css/obf.css"  -->
  <link rel="stylesheet" href="../css/inuit.css" >
  <link rel="stylesheet" href="../css/grid.inuit.css" >
  <link rel="stylesheet" href="../css/2011.css" type="text/css" >
  <link rel="stylesheet" href="../css/rdoc.css" type="text/css" >
    <link rel="stylesheet" href="../css/carbon17.css" type="text/css" >


  <script src="../js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/rubydoc.js" type="text/javascript" charset="utf-8"></script> 


   
<script src="../js/highlight.min.js"></script>
<script> 
  hljs.tabReplace = '  ';
  hljs.initHighlightingOnLoad();
  </script> 

  <style type='text/css'>

    #vulns-alert #vulns{
      background-color: #c33 ! important;
      width: 100%;
      text-align: center;
   }
   
   #vulns-alert #vulns a {
    color: #F99 ! important;
   }
 </style>

   <link rel="stylesheet" href="css/extra.css" type="text/css" >
  <script  src="/js/extra.js"  ></script>


</head>

<body id="top" class="class rdocstar">

<div id='actionbar' >
<div class='wrapper'>
  <ul class='grids g0'>
	<li class='grid-2' ><a href='/' target='_top' >Home</a></li>
	<li class='grid-2' ><a href='/core-2.5.2' target='_top' >Core 2.5.2</a></li>
	<li class='grid-2' ><a href='/stdlib-2.5.2' target='_top' >Std-lib 2.5.2</a></li>

   <li class='grid-2' ><a href='/downloads' target='_top' >Downloads</a></li>
	 <li class='grid-5 right' id='rd-action-search'><form id="searchbox_011815814100681837392:wnccv6st5qk" action="https://ruby-doc.com/search.html"><input type="hidden" name="cx" value="011815814100681837392:wnccv6st5qk" ><input  id='rd-search-input' name="q" type="text" size="20" >&#160;&#160;<input type="submit" name="sa" value="Search" ><input type="hidden" name="cof" value="FORID:9" ></form></li>
	</ul>
</div>
<span id='vulns-alert'></span>
<!-- VERSION HEADER for 2.5.2 NOT FOUND -->
</div> <!-- end action bar -->
 <div class='wrapper'>
  
   <!-- carbon17 added here 2017-09-09 -->
 
   <script src="//m.servedby-buysellads.com/monetization.js" type="text/javascript"></script>
<div class="bsa-cpc"></div>
<script>
  (function(){
    if(typeof _bsa !== 'undefined' && _bsa) {
    _bsa.init('default', 'CKYD627W', 'placement:rubydocorg', {
      target: '.bsa-cpc',
      align: 'horizontal',
      disable_css: 'true'
    });
      }
  })();
</script>

 

   <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../index.html">Home</a>
          <a href="../index.html#classes">Classes</a>
          <a href="../index.html#methods">Methods</a>
          
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul id='file-metadata'>

          
          
          
          <li class='in-file'>uri/generic.rb</li>      
            
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link">Object</p>
        
      </div>
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-build">::build</a></li>
          
          <li><a href="#method-c-build2">::build2</a></li>
          
          <li><a href="#method-c-component">::component</a></li>
          
          <li><a href="#method-c-default_port">::default_port</a></li>
          
          <li><a href="#method-c-new">::new</a></li>
          
          <li><a href="#method-i-2B">#+</a></li>
          
          <li><a href="#method-i-2D">#-</a></li>
          
          <li><a href="#method-i-3D-3D">#==</a></li>
          
          <li><a href="#method-i-absolute">#absolute</a></li>
          
          <li><a href="#method-i-absolute-3F">#absolute?</a></li>
          
          <li><a href="#method-i-coerce">#coerce</a></li>
          
          <li><a href="#method-i-component">#component</a></li>
          
          <li><a href="#method-i-component_ary">#component_ary</a></li>
          
          <li><a href="#method-i-default_port">#default_port</a></li>
          
          <li><a href="#method-i-eql-3F">#eql?</a></li>
          
          <li><a href="#method-i-find_proxy">#find_proxy</a></li>
          
          <li><a href="#method-i-fragment-3D">#fragment=</a></li>
          
          <li><a href="#method-i-hash">#hash</a></li>
          
          <li><a href="#method-i-hierarchical-3F">#hierarchical?</a></li>
          
          <li><a href="#method-i-host-3D">#host=</a></li>
          
          <li><a href="#method-i-hostname">#hostname</a></li>
          
          <li><a href="#method-i-hostname-3D">#hostname=</a></li>
          
          <li><a href="#method-i-inspect">#inspect</a></li>
          
          <li><a href="#method-i-merge">#merge</a></li>
          
          <li><a href="#method-i-merge-21">#merge!</a></li>
          
          <li><a href="#method-i-normalize">#normalize</a></li>
          
          <li><a href="#method-i-normalize-21">#normalize!</a></li>
          
          <li><a href="#method-i-opaque-3D">#opaque=</a></li>
          
          <li><a href="#method-i-parser">#parser</a></li>
          
          <li><a href="#method-i-password">#password</a></li>
          
          <li><a href="#method-i-password-3D">#password=</a></li>
          
          <li><a href="#method-i-path-3D">#path=</a></li>
          
          <li><a href="#method-i-port-3D">#port=</a></li>
          
          <li><a href="#method-i-query-3D">#query=</a></li>
          
          <li><a href="#method-i-registry-3D">#registry=</a></li>
          
          <li><a href="#method-i-relative-3F">#relative?</a></li>
          
          <li><a href="#method-i-route_from">#route_from</a></li>
          
          <li><a href="#method-i-route_to">#route_to</a></li>
          
          <li><a href="#method-i-scheme-3D">#scheme=</a></li>
          
          <li><a href="#method-i-select">#select</a></li>
          
          <li><a href="#method-i-set_host">#set_host</a></li>
          
          <li><a href="#method-i-set_opaque">#set_opaque</a></li>
          
          <li><a href="#method-i-set_password">#set_password</a></li>
          
          <li><a href="#method-i-set_path">#set_path</a></li>
          
          <li><a href="#method-i-set_port">#set_port</a></li>
          
          <li><a href="#method-i-set_scheme">#set_scheme</a></li>
          
          <li><a href="#method-i-set_user">#set_user</a></li>
          
          <li><a href="#method-i-set_userinfo">#set_userinfo</a></li>
          
          <li><a href="#method-i-to_s">#to_s</a></li>
          
          <li><a href="#method-i-user">#user</a></li>
          
          <li><a href="#method-i-user-3D">#user=</a></li>
          
          <li><a href="#method-i-userinfo">#userinfo</a></li>
          
          <li><a href="#method-i-userinfo-3D">#userinfo=</a></li>
          
        </ul>
      </div>
      

      
      <!-- Included Modules -->
      <div id="includes-section" class="section">
        <h3 class="section-header">Included Modules</h3>
        <ul class="link-list">
        
        
          <li><a class="include" href="../URI.html">URI</a></li>
        
        
        </ul>
      </div>
      
    </div>

    <div id="project-metadata">
      
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="../images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
          
          
          
          <li><a href="../Kernel.html">Kernel</a></li>
        
          
          
          <li><a href="../URI.html">URI</a></li>
        
          
          
          <li><a href="../URI/BadURIError.html">URI::BadURIError</a></li>
        
          
          
          <li><a href="../URI/Error.html">URI::Error</a></li>
        
          
          
          <li><a href="../URI/Escape.html">URI::Escape</a></li>
        
          
          
          <li><a href="../URI/FTP.html">URI::FTP</a></li>
        
          
          
          <li><a href="../URI/File.html">URI::File</a></li>
        
          
          
          <li><a href="../URI/Generic.html">URI::Generic</a></li>
        
          
          
          <li><a href="../URI/HTTP.html">URI::HTTP</a></li>
        
          
          
          <li><a href="../URI/HTTPS.html">URI::HTTPS</a></li>
        
          
          
          <li><a href="../URI/InvalidComponentError.html">URI::InvalidComponentError</a></li>
        
          
          
          <li><a href="../URI/InvalidURIError.html">URI::InvalidURIError</a></li>
        
          
          
          <li><a href="../URI/LDAP.html">URI::LDAP</a></li>
        
          
          
          <li><a href="../URI/LDAPS.html">URI::LDAPS</a></li>
        
          
          
          <li><a href="../URI/MailTo.html">URI::MailTo</a></li>
        
          
          
          <li><a href="../URI/REGEXP.html">URI::REGEXP</a></li>
        
          
          
          <li><a href="../URI/RFC2396_Parser.html">URI::RFC2396_Parser</a></li>
        
          
          
          <li><a href="../URI/RFC2396_REGEXP.html">URI::RFC2396_REGEXP</a></li>
        
          
          
          <li><a href="../URI/RFC2396_REGEXP/PATTERN.html">URI::RFC2396_REGEXP::PATTERN</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div> <!-- metadata -->
  <div class='adzbox'  id="azk83167">
    
   <div id="carbonads-container"><div class="carbonad">
<script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CKYIKKQN&placement=rubydocorg" id="_carbonads_js"></script>
  </div></div>

   
  </div> 
  <div id="documentation">
    <h1 class="class">URI::Generic</h1>

    <div id="description" class="description">
      
<p>Base class for all <a href="../URI.html">URI</a> classes. Implements
generic <a href="../URI.html">URI</a> syntax as per RFC 2396.</p>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      
      <!-- Constants -->
      <div id="constants-list" class="section">
        <h3 class="section-header">Constants</h3>
        <dl>
        
          <dt><a name="COMPONENT">COMPONENT</a></dt>
          
          <dd class="description"><p>An Array of the available components for <a
href="Generic.html">URI::Generic</a>.</p></dd>
          
        
          <dt><a name="DEFAULT_PORT">DEFAULT_PORT</a></dt>
          
          <dd class="description"><p>A Default port of nil for <a href="Generic.html">URI::Generic</a>.</p></dd>
          
        
        </dl>
      </div>
      

      
      <!-- Attributes -->
      <div id="attribute-method-details" class="method-section section">
        <h3 class="section-header">Attributes</h3>

        
        <div id="fragment-attribute-method" class="method-detail">
          <a name="fragment"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">fragment</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description 245">
          
          <p>Returns the fragment component of the <a href="../URI.html">URI</a>.</p>

<pre class="ruby"><span class="ruby-constant">URI</span>(<span class="ruby-node">&quot;http://foo/bar/baz?search=FooBar#ponies&quot;</span>).<span class="ruby-identifier">fragment</span> <span class="ruby-comment">#=&gt; &quot;ponies&quot;</span>
</pre>
          
          </div>
        </div>
        
        <div id="host-attribute-method" class="method-detail">
          <a name="host"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">host</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description 245">
          
          <p>Returns the host component of the <a href="../URI.html">URI</a>.</p>

<pre class="ruby"><span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;http://foo/bar/baz&quot;</span>).<span class="ruby-identifier">host</span> <span class="ruby-comment">#=&gt; &quot;foo&quot;</span>
</pre>

<p>It returns nil if no host component exists.</p>

<pre class="ruby"><span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;mailto:foo@example.org&quot;</span>).<span class="ruby-identifier">host</span> <span class="ruby-comment">#=&gt; nil</span>
</pre>

<p>The component does not contain the port number.</p>

<pre class="ruby"><span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;http://foo:8080/bar/baz&quot;</span>).<span class="ruby-identifier">host</span> <span class="ruby-comment">#=&gt; &quot;foo&quot;</span>
</pre>

<p>Since IPv6 addresses are wrapped with brackets in URIs, this method returns
IPv6 addresses wrapped with brackets. This form is not appropriate to pass
to socket methods such as TCPSocket.open. If unwrapped host names are
required, use the <a href="Generic.html#method-i-hostname">hostname</a>
method.</p>

<pre class="ruby"><span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;http://[::1]/bar/baz&quot;</span>).<span class="ruby-identifier">host</span>     <span class="ruby-comment">#=&gt; &quot;[::1]&quot;</span>
<span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;http://[::1]/bar/baz&quot;</span>).<span class="ruby-identifier">hostname</span> <span class="ruby-comment">#=&gt; &quot;::1&quot;</span>
</pre>
          
          </div>
        </div>
        
        <div id="opaque-attribute-method" class="method-detail">
          <a name="opaque"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">opaque</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description 245">
          
          <p>Returns the opaque part of the <a href="../URI.html">URI</a>.</p>

<pre class="ruby"><span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;mailto:foo@example.org&quot;</span>).<span class="ruby-identifier">opaque</span> <span class="ruby-comment">#=&gt; &quot;foo@example.org&quot;</span>
<span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;http://foo/bar/baz&quot;</span>).<span class="ruby-identifier">opaque</span>     <span class="ruby-comment">#=&gt; nil</span>
</pre>

<p>The portion of the path that does not make use of the slash ‘/’. The path
typically refers to an absolute path or an opaque part. (See RFC2396
Section 3 and 5.2.)</p>
          
          </div>
        </div>
        
        <div id="path-attribute-method" class="method-detail">
          <a name="path"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">path</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description 245">
          
          <p>Returns the path component of the <a href="../URI.html">URI</a>.</p>

<pre class="ruby"><span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;http://foo/bar/baz&quot;</span>).<span class="ruby-identifier">path</span> <span class="ruby-comment">#=&gt; &quot;/bar/baz&quot;</span>
</pre>
          
          </div>
        </div>
        
        <div id="port-attribute-method" class="method-detail">
          <a name="port"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">port</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description 245">
          
          <p>Returns the port component of the <a href="../URI.html">URI</a>.</p>

<pre class="ruby"><span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;http://foo/bar/baz&quot;</span>).<span class="ruby-identifier">port</span>      <span class="ruby-comment">#=&gt; 80</span>
<span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;http://foo:8080/bar/baz&quot;</span>).<span class="ruby-identifier">port</span> <span class="ruby-comment">#=&gt; 8080</span>
</pre>
          
          </div>
        </div>
        
        <div id="query-attribute-method" class="method-detail">
          <a name="query"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">query</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description 245">
          
          <p>Returns the query component of the <a href="../URI.html">URI</a>.</p>

<pre class="ruby"><span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;http://foo/bar/baz?search=FooBar&quot;</span>).<span class="ruby-identifier">query</span> <span class="ruby-comment">#=&gt; &quot;search=FooBar&quot;</span>
</pre>
          
          </div>
        </div>
        
        <div id="scheme-attribute-method" class="method-detail">
          <a name="scheme"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">scheme</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description 245">
          
          <p>Returns the scheme component of the <a href="../URI.html">URI</a>.</p>

<pre class="ruby"><span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;http://foo/bar/baz&quot;</span>).<span class="ruby-identifier">scheme</span> <span class="ruby-comment">#=&gt; &quot;http&quot;</span>
</pre>
          
          </div>
        </div>
        
      </div><!-- attribute-method-details -->
      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="build-method" class="method-detail ">
          <a name="method-c-build"></a>

          
          <div class="method-heading">
            <span class="method-name">build</span><span
              class="method-args">(args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-c-build-label-Synopsis">Synopsis<span><a href="#method-c-build-label-Synopsis">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>See <a href="Generic.html#method-c-new">::new</a>.</p>

<h2 id="method-c-build-label-Description">Description<span><a href="#method-c-build-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Creates a new <a href="Generic.html">URI::Generic</a> instance from
components of <a href="Generic.html">URI::Generic</a> with check. 
Components are: scheme, userinfo, host, port, registry, path, opaque,
query, and fragment. You can provide arguments either by an Array or a
Hash. See <a href="Generic.html#method-c-new">::new</a> for hash keys to
use or for order of array items.</p>
            

            
            <div class="method-source-code" id="build-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 117</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Array</span>) <span class="ruby-operator">&amp;&amp;</span>
      <span class="ruby-identifier">args</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-operator">::</span><span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">Generic</span><span class="ruby-operator">::</span><span class="ruby-constant">COMPONENT</span>.<span class="ruby-identifier">size</span>
    <span class="ruby-identifier">tmp</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Hash</span>)
    <span class="ruby-identifier">tmp</span> = <span class="ruby-operator">::</span><span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">Generic</span><span class="ruby-operator">::</span><span class="ruby-constant">COMPONENT</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">c</span>)
        <span class="ruby-identifier">args</span>[<span class="ruby-identifier">c</span>]
      <span class="ruby-keyword">else</span>
        <span class="ruby-keyword">nil</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">component</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">component</span> <span class="ruby-keyword">rescue</span> <span class="ruby-operator">::</span><span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">Generic</span><span class="ruby-operator">::</span><span class="ruby-constant">COMPONENT</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>,
    <span class="ruby-node">&quot;expected Array of or Hash of components of #{self.class} (#{component.join(', ')})&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">tmp</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">tmp</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">tmp</span>)
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- build-source -->
            
          </div>

          

          
        </div><!-- build-method -->
      
        <div id="build2-method" class="method-detail ">
          <a name="method-c-build2"></a>

          
          <div class="method-heading">
            <span class="method-name">build2</span><span
              class="method-args">(args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-c-build2-label-Synopsis">Synopsis<span><a href="#method-c-build2-label-Synopsis">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>See <a href="Generic.html#method-c-new">::new</a>.</p>

<h2 id="method-c-build2-label-Description">Description<span><a href="#method-c-build2-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>At first, tries to create a new <a href="Generic.html">URI::Generic</a>
instance using <a href="Generic.html#method-c-build">::build</a>. But, if
exception <a
href="InvalidComponentError.html">URI::InvalidComponentError</a> is raised,
then it does <a href="Escape.html#method-i-escape">URI::Escape#escape</a>
all <a href="../URI.html">URI</a> components and tries again.</p>
            

            
            <div class="method-source-code" id="build2-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 79</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">build2</span>(<span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">begin</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">InvalidComponentError</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Array</span>)
      <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">args</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
          <span class="ruby-constant">DEFAULT_PARSER</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-identifier">x</span>)
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">x</span>
        <span class="ruby-keyword">end</span>
      })
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Hash</span>)
      <span class="ruby-identifier">tmp</span> = {}
      <span class="ruby-identifier">args</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">tmp</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-keyword">if</span> <span class="ruby-identifier">value</span>
            <span class="ruby-constant">DEFAULT_PARSER</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-identifier">value</span>)
          <span class="ruby-keyword">else</span>
            <span class="ruby-identifier">value</span>
          <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">tmp</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- build2-source -->
            
          </div>

          

          
        </div><!-- build2-method -->
      
        <div id="component-method" class="method-detail ">
          <a name="method-c-component"></a>

          
          <div class="method-heading">
            <span class="method-name">component</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Components of the <a href="../URI.html">URI</a> in the order.</p>
            

            
            <div class="method-source-code" id="component-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 58</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">component</span>
  <span class="ruby-keyword">self</span><span class="ruby-operator">::</span><span class="ruby-constant">COMPONENT</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- component-source -->
            
          </div>

          

          
        </div><!-- component-method -->
      
        <div id="default_port-method" class="method-detail ">
          <a name="method-c-default_port"></a>

          
          <div class="method-heading">
            <span class="method-name">default_port</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns default port.</p>
            

            
            <div class="method-source-code" id="default_port-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 33</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">default_port</span>
  <span class="ruby-keyword">self</span><span class="ruby-operator">::</span><span class="ruby-constant">DEFAULT_PORT</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- default_port-source -->
            
          </div>

          

          
        </div><!-- default_port-method -->
      
        <div id="new-method" class="method-detail ">
          <a name="method-c-new"></a>

          
          <div class="method-heading">
            <span class="method-name">new</span><span
              class="method-args">(scheme, userinfo, host, port, registry, path, opaque, query, fragment, parser = DEFAULT_PARSER, arg_check = false)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-c-new-label-Args">Args<span><a href="#method-c-new-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>scheme</code>
<dd>
<p>Protocol scheme, i.e. ‘http’,‘ftp’,‘mailto’ and so on.</p>
</dd><dt><code>userinfo</code>
<dd>
<p>User name and password, i.e. ‘sdmitry:bla’.</p>
</dd><dt><code>host</code>
<dd>
<p>Server host name.</p>
</dd><dt><code>port</code>
<dd>
<p>Server port.</p>
</dd><dt><code>registry</code>
<dd>
<p>Registry of naming authorities.</p>
</dd><dt><code>path</code>
<dd>
<p>Path on server.</p>
</dd><dt><code>opaque</code>
<dd>
<p>Opaque part.</p>
</dd><dt><code>query</code>
<dd>
<p>Query data.</p>
</dd><dt><code>fragment</code>
<dd>
<p>Part of the <a href="../URI.html">URI</a> after ‘#’ character.</p>
</dd><dt><code>parser</code>
<dd>
<p>Parser for internal use [URI::DEFAULT_PARSER by default].</p>
</dd><dt><code>arg_check</code>
<dd>
<p>Check arguments [false by default].</p>
</dd></dl>

<h2 id="method-c-new-label-Description">Description<span><a href="#method-c-new-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Creates a new <a href="Generic.html">URI::Generic</a> instance from
“generic” components without check.</p>
            

            
            <div class="method-source-code" id="new-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 170</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">scheme</span>,
               <span class="ruby-identifier">userinfo</span>, <span class="ruby-identifier">host</span>, <span class="ruby-identifier">port</span>, <span class="ruby-identifier">registry</span>,
               <span class="ruby-identifier">path</span>, <span class="ruby-identifier">opaque</span>,
               <span class="ruby-identifier">query</span>,
               <span class="ruby-identifier">fragment</span>,
               <span class="ruby-identifier">parser</span> = <span class="ruby-constant">DEFAULT_PARSER</span>,
               <span class="ruby-identifier">arg_check</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-ivar">@scheme</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@user</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@password</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@host</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@port</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@path</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@query</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@opaque</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@fragment</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@parser</span> = <span class="ruby-identifier">parser</span> <span class="ruby-operator">==</span> <span class="ruby-constant">DEFAULT_PARSER</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">parser</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">arg_check</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">scheme</span> = <span class="ruby-identifier">scheme</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">userinfo</span> = <span class="ruby-identifier">userinfo</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">hostname</span> = <span class="ruby-identifier">host</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">port</span> = <span class="ruby-identifier">port</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">path</span> = <span class="ruby-identifier">path</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">query</span> = <span class="ruby-identifier">query</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">opaque</span> = <span class="ruby-identifier">opaque</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">fragment</span> = <span class="ruby-identifier">fragment</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_scheme</span>(<span class="ruby-identifier">scheme</span>)
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_userinfo</span>(<span class="ruby-identifier">userinfo</span>)
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_host</span>(<span class="ruby-identifier">host</span>)
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_port</span>(<span class="ruby-identifier">port</span>)
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">path</span>)
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">query</span> = <span class="ruby-identifier">query</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_opaque</span>(<span class="ruby-identifier">opaque</span>)
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">fragment</span>=(<span class="ruby-identifier">fragment</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">registry</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>,
      <span class="ruby-node">&quot;the scheme #{@scheme} does not accept registry part: #{registry} (or bad hostname?)&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@scheme</span><span class="ruby-operator">&amp;</span>.<span class="ruby-identifier">freeze</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-string">''</span>) <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@path</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@opaque</span> <span class="ruby-comment"># (see RFC2396 Section 5.2)</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_port</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">default_port</span>) <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">default_port</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@port</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- new-source -->
            
          </div>

          

          
        </div><!-- new-method -->
      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="2B-method" class="method-detail method-alias">
          <a name="method-i-2B"></a>

          
          <div class="method-heading">
            <span class="method-name">+</span><span
              class="method-args">(oth)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Generic.html#method-i-merge">merge</a>
          </div>
          
        </div><!-- 2B-method -->
      
        <div id="2D-method" class="method-detail method-alias">
          <a name="method-i-2D"></a>

          
          <div class="method-heading">
            <span class="method-name">-</span><span
              class="method-args">(oth)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Generic.html#method-i-route_from">route_from</a>
          </div>
          
        </div><!-- 2D-method -->
      
        <div id="3D-3D-method" class="method-detail ">
          <a name="method-i-3D-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">==</span><span
              class="method-args">(oth)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Compares two URIs.</p>
            

            
            <div class="method-source-code" id="3D-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1374</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">class</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">normalize</span>.<span class="ruby-identifier">component_ary</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">normalize</span>.<span class="ruby-identifier">component_ary</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- 3D-3D-source -->
            
          </div>

          

          
        </div><!-- 3D-3D-method -->
      
        <div id="absolute-method" class="method-detail method-alias">
          <a name="method-i-absolute"></a>

          
          <div class="method-heading">
            <span class="method-name">absolute</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Generic.html#method-i-absolute-3F">absolute?</a>
          </div>
          
        </div><!-- absolute-method -->
      
        <div id="absolute-3F-method" class="method-detail ">
          <a name="method-i-absolute-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">absolute?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns true if <a href="../URI.html">URI</a> has a scheme (e.g. http:// or
https://) specified.</p>
            

            
            <div class="method-source-code" id="absolute-3F-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 963</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">absolute?</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@scheme</span>
    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- absolute-3F-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Generic.html#method-i-absolute">absolute</a>
          </div>
          

          
        </div><!-- absolute-3F-method -->
      
        <div id="coerce-method" class="method-detail ">
          <a name="method-i-coerce"></a>

          
          <div class="method-heading">
            <span class="method-name">coerce</span><span
              class="method-args">(oth)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-coerce-label-Args">Args<span><a href="#method-i-coerce-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p><a href="../URI.html">URI</a> or String</p>
</dd></dl>

<h2 id="method-i-coerce-label-Description">Description<span><a href="#method-i-coerce-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Attempts to parse other <a href="../URI.html">URI</a> <code>oth</code>,
returns [parsed_oth, self].</p>

<h2 id="method-i-coerce-label-Usage">Usage<span><a href="#method-i-coerce-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;http://my.example.com&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">coerce</span>(<span class="ruby-string">&quot;http://foo.com&quot;</span>)
<span class="ruby-comment">#=&gt; [#&lt;URI::HTTP http://foo.com&gt;, #&lt;URI::HTTP http://my.example.com&gt;]</span>
</pre>
            

            
            <div class="method-source-code" id="coerce-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1464</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">coerce</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">oth</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">String</span>
    <span class="ruby-identifier">oth</span> = <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">super</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">oth</span>, <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- coerce-source -->
            
          </div>

          

          
        </div><!-- coerce-method -->
      
        <div id="component-method" class="method-detail ">
          <a name="method-i-component"></a>

          
          <div class="method-heading">
            <span class="method-name">component</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Components of the <a href="../URI.html">URI</a> in the order.</p>
            

            
            <div class="method-source-code" id="component-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 314</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">component</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">component</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- component-source -->
            
          </div>

          

          
        </div><!-- component-method -->
      
        <div id="default_port-method" class="method-detail ">
          <a name="method-i-default_port"></a>

          
          <div class="method-heading">
            <span class="method-name">default_port</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns default port.</p>
            

            
            <div class="method-source-code" id="default_port-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 40</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">default_port</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">default_port</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- default_port-source -->
            
          </div>

          

          
        </div><!-- default_port-method -->
      
        <div id="eql-3F-method" class="method-detail ">
          <a name="method-i-eql-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">eql?</span><span
              class="method-args">(oth)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
            <div class="method-source-code" id="eql-3F-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1386</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">&amp;&amp;</span>
  <span class="ruby-identifier">parser</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">oth</span>.<span class="ruby-identifier">parser</span> <span class="ruby-operator">&amp;&amp;</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">component_ary</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">oth</span>.<span class="ruby-identifier">component_ary</span>)
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- eql-3F-source -->
            
          </div>

          

          
        </div><!-- eql-3F-method -->
      
        <div id="find_proxy-method" class="method-detail ">
          <a name="method-i-find_proxy"></a>

          
          <div class="method-heading">
            <span class="method-name">find_proxy</span><span
              class="method-args">(env=ENV)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns a proxy <a href="../URI.html">URI</a>. The proxy <a
href="../URI.html">URI</a> is obtained from environment variables such as
http_proxy, ftp_proxy, no_proxy, etc. If there is no proper proxy, nil is
returned.</p>

<p>If the optional parameter <code>env</code> is specified, it is used instead
of ENV.</p>

<p>Note that capitalized variables (HTTP_PROXY, FTP_PROXY, NO_PROXY, etc.) are
examined, too.</p>

<p>But http_proxy and HTTP_PROXY is treated specially under CGI environment.
It’s because HTTP_PROXY may be set by Proxy: header. So HTTP_PROXY is not
used. http_proxy is not used too if the variable is case insensitive.
CGI_HTTP_PROXY can be used instead.</p>
            

            
            <div class="method-source-code" id="find_proxy-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1490</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">find_proxy</span>(<span class="ruby-identifier">env</span>=<span class="ruby-constant">ENV</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">BadURIError</span>, <span class="ruby-node">&quot;relative URI: #{self}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">relative?</span>
  <span class="ruby-identifier">name</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">scheme</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">+</span> <span class="ruby-string">'_proxy'</span>
  <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-string">'http_proxy'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">env</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">'REQUEST_METHOD'</span>) <span class="ruby-comment"># CGI?</span>
    <span class="ruby-comment"># HTTP_PROXY conflicts with *_proxy for proxy settings and</span>
    <span class="ruby-comment"># HTTP_* for header information in CGI.</span>
    <span class="ruby-comment"># So it should be careful to use it.</span>
    <span class="ruby-identifier">pairs</span> = <span class="ruby-identifier">env</span>.<span class="ruby-identifier">reject</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-regexp">/\Ahttp_proxy\z/i</span> <span class="ruby-operator">!~</span> <span class="ruby-identifier">k</span> }
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">pairs</span>.<span class="ruby-identifier">length</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">0</span> <span class="ruby-comment"># no proxy setting anyway.</span>
      <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-keyword">nil</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">1</span>
      <span class="ruby-identifier">k</span>, <span class="ruby-identifier">_</span> = <span class="ruby-identifier">pairs</span>.<span class="ruby-identifier">shift</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">k</span> <span class="ruby-operator">==</span> <span class="ruby-string">'http_proxy'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">env</span>[<span class="ruby-identifier">k</span>.<span class="ruby-identifier">upcase</span>] <span class="ruby-operator">==</span> <span class="ruby-keyword">nil</span>
        <span class="ruby-comment"># http_proxy is safe to use because ENV is case sensitive.</span>
        <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-identifier">env</span>[<span class="ruby-identifier">name</span>]
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-keyword">nil</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span> <span class="ruby-comment"># http_proxy is safe to use because ENV is case sensitive.</span>
      <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-identifier">env</span>.<span class="ruby-identifier">to_hash</span>[<span class="ruby-identifier">name</span>]
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">proxy_uri</span>
      <span class="ruby-comment"># Use CGI_HTTP_PROXY.  cf. libwww-perl.</span>
      <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-identifier">env</span>[<span class="ruby-node">&quot;CGI_#{name.upcase}&quot;</span>]
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-string">'http_proxy'</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-identifier">env</span>[<span class="ruby-identifier">name</span>]
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-identifier">env</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">upcase</span>]
        <span class="ruby-identifier">warn</span> <span class="ruby-string">'The environment variable HTTP_PROXY is discouraged.  Use http_proxy.'</span>, <span class="ruby-identifier">uplevel</span><span class="ruby-operator">:</span> <span class="ruby-value">1</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">proxy_uri</span> = <span class="ruby-identifier">env</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">env</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">upcase</span>]
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">proxy_uri</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">proxy_uri</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">hostname</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">addr</span> = <span class="ruby-constant">IPSocket</span>.<span class="ruby-identifier">getaddress</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">hostname</span>)
      <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-regexp">/\A127\.|\A::1\z/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">addr</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">SocketError</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">name</span> = <span class="ruby-string">'no_proxy'</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">no_proxy</span> = <span class="ruby-identifier">env</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">env</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">upcase</span>]
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">Generic</span>.<span class="ruby-identifier">use_proxy?</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">hostname</span>, <span class="ruby-identifier">addr</span>, <span class="ruby-keyword">self</span>.<span class="ruby-identifier">port</span>, <span class="ruby-identifier">no_proxy</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">proxy_uri</span>)
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- find_proxy-source -->
            
          </div>

          

          
        </div><!-- find_proxy-method -->
      
        <div id="fragment-3D-method" class="method-detail ">
          <a name="method-i-fragment-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">fragment=</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Checks the fragment <code>v</code> component against the URI::Parser Regexp
for :FRAGMENT.</p>

<h2 id="method-i-fragment-3D-label-Args">Args<span><a href="#method-i-fragment-3D-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="method-i-fragment-3D-label-Description">Description<span><a href="#method-i-fragment-3D-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Public setter for the fragment component <code>v</code> (with validation).</p>

<h2 id="method-i-fragment-3D-label-Usage">Usage<span><a href="#method-i-fragment-3D-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-node">&quot;http://my.example.com/?id=25#time=1305212049&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">fragment</span> = <span class="ruby-string">&quot;time=1305212086&quot;</span>
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">to_s</span>  <span class="ruby-comment">#=&gt; &quot;http://my.example.com/?id=25#time=1305212086&quot;</span>
</pre>
            

            
            <div class="method-source-code" id="fragment-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 920</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">fragment=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@fragment</span> = <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">v</span>

  <span class="ruby-identifier">x</span> = <span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_str</span>
  <span class="ruby-identifier">v</span> = <span class="ruby-identifier">x</span>.<span class="ruby-identifier">dup</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">equal?</span> <span class="ruby-identifier">v</span>
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">encode!</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">UTF_8</span>) <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">delete!</span>(<span class="ruby-string">&quot;\t\r\n&quot;</span>)
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">ASCII_8BIT</span>)
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/(?!%\h\h|[!-~])./n</span>){<span class="ruby-string">'%%%02X'</span> <span class="ruby-operator">%</span> <span class="ruby-node">$&amp;</span>.<span class="ruby-identifier">ord</span>}
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">US_ASCII</span>)
  <span class="ruby-ivar">@fragment</span> = <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- fragment-3D-source -->
            
          </div>

          

          
        </div><!-- fragment-3D-method -->
      
        <div id="hash-method" class="method-detail ">
          <a name="method-i-hash"></a>

          
          <div class="method-heading">
            <span class="method-name">hash</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
            <div class="method-source-code" id="hash-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1382</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hash</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">component_ary</span>.<span class="ruby-identifier">hash</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- hash-source -->
            
          </div>

          

          
        </div><!-- hash-method -->
      
        <div id="hierarchical-3F-method" class="method-detail ">
          <a name="method-i-hierarchical-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">hierarchical?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns true if <a href="../URI.html">URI</a> is hierarchical.</p>

<h2 id="method-i-hierarchical-3F-label-Description">Description<span><a href="#method-i-hierarchical-3F-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p><a href="../URI.html">URI</a> has components listed in order of decreasing
significance from left to right, see RFC3986 <a
href="https://tools.ietf.org/html/rfc3986">tools.ietf.org/html/rfc3986</a>
1.2.3.</p>

<h2 id="method-i-hierarchical-3F-label-Usage">Usage<span><a href="#method-i-hierarchical-3F-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;http://my.example.com/&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">hierarchical?</span>
<span class="ruby-comment">#=&gt; true</span>
<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;mailto:joe@example.com&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">hierarchical?</span>
<span class="ruby-comment">#=&gt; false</span>
</pre>
            

            
            <div class="method-source-code" id="hierarchical-3F-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 952</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hierarchical?</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@path</span>
    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- hierarchical-3F-source -->
            
          </div>

          

          
        </div><!-- hierarchical-3F-method -->
      
        <div id="host-3D-method" class="method-detail ">
          <a name="method-i-host-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">host=</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-host-3D-label-Args">Args<span><a href="#method-i-host-3D-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="method-i-host-3D-label-Description">Description<span><a href="#method-i-host-3D-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Public setter for the host component <code>v</code> (with validation).</p>

<p>See also URI::Generic.check_host.</p>

<h2 id="method-i-host-3D-label-Usage">Usage<span><a href="#method-i-host-3D-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;http://my.example.com&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">host</span> = <span class="ruby-string">&quot;foo.com&quot;</span>
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">to_s</span>  <span class="ruby-comment">#=&gt; &quot;http://foo.com&quot;</span>
</pre>
            

            
            <div class="method-source-code" id="host-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 630</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">host=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">check_host</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">set_host</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- host-3D-source -->
            
          </div>

          

          
        </div><!-- host-3D-method -->
      
        <div id="hostname-method" class="method-detail ">
          <a name="method-i-hostname"></a>

          
          <div class="method-heading">
            <span class="method-name">hostname</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Extract the host part of the <a href="../URI.html">URI</a> and unwrap
brackets for IPv6 addresses.</p>

<p>This method is the same as <a
href="Generic.html#attribute-i-host">#host</a> except brackets for IPv6
(and future IP) addresses are removed.</p>

<pre class="ruby"><span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;http://[::1]/bar&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">hostname</span>      <span class="ruby-comment">#=&gt; &quot;::1&quot;</span>
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">host</span>          <span class="ruby-comment">#=&gt; &quot;[::1]&quot;</span>
</pre>
            

            
            <div class="method-source-code" id="hostname-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 645</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hostname</span>
  <span class="ruby-identifier">v</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">host</span>
  <span class="ruby-regexp">/\A\[(.*)\]\z/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">?</span> <span class="ruby-node">$1</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- hostname-source -->
            
          </div>

          

          
        </div><!-- hostname-method -->
      
        <div id="hostname-3D-method" class="method-detail ">
          <a name="method-i-hostname-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">hostname=</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Sets the host part of the <a href="../URI.html">URI</a> as the argument
with brackets for IPv6 addresses.</p>

<p>This method is the same as <a
href="Generic.html#method-i-host-3D">#host=</a> except the argument can be
a bare IPv6 address.</p>

<pre class="ruby"><span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;http://foo/bar&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">hostname</span> = <span class="ruby-string">&quot;::1&quot;</span>
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">to_s</span>  <span class="ruby-comment">#=&gt; &quot;http://[::1]/bar&quot;</span>
</pre>

<p>If the argument seems to be an IPv6 address, it is wrapped with brackets.</p>
            

            
            <div class="method-source-code" id="hostname-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 662</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hostname=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">v</span> = <span class="ruby-node">&quot;[#{v}]&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-regexp">/\A\[.*\]\z/</span> <span class="ruby-operator">!~</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-regexp">/:/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">v</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">host</span> = <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- hostname-3D-source -->
            
          </div>

          

          
        </div><!-- hostname-3D-method -->
      
        <div id="inspect-method" class="method-detail ">
          <a name="method-i-inspect"></a>

          
          <div class="method-heading">
            <span class="method-name">inspect</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
            <div class="method-source-code" id="inspect-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1441</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">inspect</span>
  <span class="ruby-node">&quot;#&lt;#{self.class} #{self}&gt;&quot;</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- inspect-source -->
            
          </div>

          

          
        </div><!-- inspect-method -->
      
        <div id="merge-method" class="method-detail ">
          <a name="method-i-merge"></a>

          
          <div class="method-heading">
            <span class="method-name">merge</span><span
              class="method-args">(oth)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-merge-label-Args">Args<span><a href="#method-i-merge-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>oth</code>
<dd>
<p><a href="../URI.html">URI</a> or String</p>
</dd></dl>

<h2 id="method-i-merge-label-Description">Description<span><a href="#method-i-merge-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Merges two URIs.</p>

<h2 id="method-i-merge-label-Usage">Usage<span><a href="#method-i-merge-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;http://my.example.com&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-string">&quot;/main.rbx?page=1&quot;</span>)
<span class="ruby-comment"># =&gt; &quot;http://my.example.com/main.rbx?page=1&quot;</span>
</pre>
            

            
            <div class="method-source-code" id="merge-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1100</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">merge</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-identifier">rel</span> = <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:convert_to_uri</span>, <span class="ruby-identifier">oth</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">absolute?</span>
    <span class="ruby-comment">#raise BadURIError, &quot;both URI are absolute&quot; if absolute?</span>
    <span class="ruby-comment"># hmm... should return oth for usability?</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">rel</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">absolute?</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">BadURIError</span>, <span class="ruby-string">&quot;both URI are relative&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">base</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">dup</span>

  <span class="ruby-identifier">authority</span> = <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">userinfo</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">host</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">port</span>

  <span class="ruby-comment"># RFC2396, Section 5.2, 2)</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>.<span class="ruby-identifier">empty?</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">authority</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">rel</span>.<span class="ruby-identifier">query</span>
    <span class="ruby-identifier">base</span>.<span class="ruby-identifier">fragment</span>=(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">fragment</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">fragment</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">base</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">query</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">fragment</span>=(<span class="ruby-keyword">nil</span>)

  <span class="ruby-comment"># RFC2396, Section 5.2, 4)</span>
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">authority</span>
    <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">merge_path</span>(<span class="ruby-identifier">base</span>.<span class="ruby-identifier">path</span>, <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>)) <span class="ruby-keyword">if</span> <span class="ruby-identifier">base</span>.<span class="ruby-identifier">path</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># RFC2396, Section 5.2, 4)</span>
    <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># RFC2396, Section 5.2, 7)</span>
  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_userinfo</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">userinfo</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">userinfo</span>
  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_host</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">host</span>)         <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">host</span>
  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">set_port</span>(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">port</span>)         <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">port</span>
  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">query</span> = <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">query</span>       <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">query</span>
  <span class="ruby-identifier">base</span>.<span class="ruby-identifier">fragment</span>=(<span class="ruby-identifier">rel</span>.<span class="ruby-identifier">fragment</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">fragment</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">base</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- merge-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Generic.html#method-i-2B">+</a>
          </div>
          

          
        </div><!-- merge-method -->
      
        <div id="merge-21-method" class="method-detail ">
          <a name="method-i-merge-21"></a>

          
          <div class="method-heading">
            <span class="method-name">merge!</span><span
              class="method-args">(oth)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-merge-21-label-Args">Args<span><a href="#method-i-merge-21-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>oth</code>
<dd>
<p><a href="../URI.html">URI</a> or String</p>
</dd></dl>

<h2 id="method-i-merge-21-label-Description">Description<span><a href="#method-i-merge-21-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Destructive form of <a href="Generic.html#method-i-merge">merge</a>.</p>

<h2 id="method-i-merge-21-label-Usage">Usage<span><a href="#method-i-merge-21-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;http://my.example.com&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-string">&quot;/main.rbx?page=1&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">to_s</span>  <span class="ruby-comment"># =&gt; &quot;http://my.example.com/main.rbx?page=1&quot;</span>
</pre>
            

            
            <div class="method-source-code" id="merge-21-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1072</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-identifier">t</span> = <span class="ruby-identifier">merge</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">t</span>
    <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">replace!</span>(<span class="ruby-identifier">t</span>)
    <span class="ruby-keyword">self</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- merge-21-source -->
            
          </div>

          

          
        </div><!-- merge-21-method -->
      
        <div id="normalize-method" class="method-detail ">
          <a name="method-i-normalize"></a>

          
          <div class="method-heading">
            <span class="method-name">normalize</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns normalized <a href="../URI.html">URI</a>.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-constant">URI</span>(<span class="ruby-string">&quot;HTTP://my.EXAMPLE.com&quot;</span>).<span class="ruby-identifier">normalize</span>
<span class="ruby-comment">#=&gt; #&lt;URI::HTTP http://my.example.com/&gt;</span>
</pre>

<p>Normalization here means:</p>
<ul><li>
<p>scheme and host are converted to lowercase,</p>
</li><li>
<p>an empty path component is set to “/”.</p>
</li></ul>
            

            
            <div class="method-source-code" id="normalize-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1310</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">normalize</span>
  <span class="ruby-identifier">uri</span> = <span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">normalize!</span>
  <span class="ruby-identifier">uri</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- normalize-source -->
            
          </div>

          

          
        </div><!-- normalize-method -->
      
        <div id="normalize-21-method" class="method-detail ">
          <a name="method-i-normalize-21"></a>

          
          <div class="method-heading">
            <span class="method-name">normalize!</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Destructive version of <a
href="Generic.html#method-i-normalize">normalize</a>.</p>
            

            
            <div class="method-source-code" id="normalize-21-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1319</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">normalize!</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">path</span><span class="ruby-operator">&amp;</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">set_path</span>(<span class="ruby-string">'/'</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">scheme</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">scheme</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">scheme</span>.<span class="ruby-identifier">downcase</span>
    <span class="ruby-identifier">set_scheme</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">scheme</span>.<span class="ruby-identifier">downcase</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">host</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">host</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">host</span>.<span class="ruby-identifier">downcase</span>
    <span class="ruby-identifier">set_host</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">host</span>.<span class="ruby-identifier">downcase</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- normalize-21-source -->
            
          </div>

          

          
        </div><!-- normalize-21-method -->
      
        <div id="opaque-3D-method" class="method-detail ">
          <a name="method-i-opaque-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">opaque=</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-opaque-3D-label-Args">Args<span><a href="#method-i-opaque-3D-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="method-i-opaque-3D-label-Description">Description<span><a href="#method-i-opaque-3D-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Public setter for the opaque component <code>v</code> (with validation).</p>

<p>See also URI::Generic.check_opaque.</p>
            

            
            <div class="method-source-code" id="opaque-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 892</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">opaque=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">check_opaque</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">set_opaque</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- opaque-3D-source -->
            
          </div>

          

          
        </div><!-- opaque-3D-method -->
      
        <div id="parser-method" class="method-detail ">
          <a name="method-i-parser"></a>

          
          <div class="method-heading">
            <span class="method-name">parser</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns the parser to be used.</p>

<p>Unless a URI::Parser is defined, DEFAULT_PARSER is used.</p>
            

            
            <div class="method-source-code" id="parser-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 290</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">parser</span>
  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span>(<span class="ruby-ivar">@parser</span>) <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@parser</span>
    <span class="ruby-constant">DEFAULT_PARSER</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@parser</span> <span class="ruby-operator">||</span> <span class="ruby-constant">DEFAULT_PARSER</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- parser-source -->
            
          </div>

          

          
        </div><!-- parser-method -->
      
        <div id="password-method" class="method-detail ">
          <a name="method-i-password"></a>

          
          <div class="method-heading">
            <span class="method-name">password</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns the password component.</p>
            

            
            <div class="method-source-code" id="password-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 574</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">password</span>
  <span class="ruby-ivar">@password</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- password-source -->
            
          </div>

          

          
        </div><!-- password-method -->
      
        <div id="password-3D-method" class="method-detail ">
          <a name="method-i-password-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">password=</span><span
              class="method-args">(password)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-password-3D-label-Args">Args<span><a href="#method-i-password-3D-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="method-i-password-3D-label-Description">Description<span><a href="#method-i-password-3D-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Public setter for the <code>password</code> component (with validation).</p>

<p>See also URI::Generic.check_password.</p>

<h2 id="method-i-password-3D-label-Usage">Usage<span><a href="#method-i-password-3D-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;http://john:S3nsit1ve@my.example.com&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">password</span> = <span class="ruby-string">&quot;V3ry_S3nsit1ve&quot;</span>
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">to_s</span>  <span class="ruby-comment">#=&gt; &quot;http://john:V3ry_S3nsit1ve@my.example.com&quot;</span>
</pre>
            

            
            <div class="method-source-code" id="password-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 499</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">password=</span>(<span class="ruby-identifier">password</span>)
  <span class="ruby-identifier">check_password</span>(<span class="ruby-identifier">password</span>)
  <span class="ruby-identifier">set_password</span>(<span class="ruby-identifier">password</span>)
  <span class="ruby-comment"># returns password</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- password-3D-source -->
            
          </div>

          

          
        </div><!-- password-3D-method -->
      
        <div id="path-3D-method" class="method-detail ">
          <a name="method-i-path-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">path=</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-path-3D-label-Args">Args<span><a href="#method-i-path-3D-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="method-i-path-3D-label-Description">Description<span><a href="#method-i-path-3D-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Public setter for the path component <code>v</code> (with validation).</p>

<p>See also URI::Generic.check_path.</p>

<h2 id="method-i-path-3D-label-Usage">Usage<span><a href="#method-i-path-3D-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;http://my.example.com/pub/files&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">path</span> = <span class="ruby-string">&quot;/faq/&quot;</span>
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">to_s</span>  <span class="ruby-comment">#=&gt; &quot;http://my.example.com/faq/&quot;</span>
</pre>
            

            
            <div class="method-source-code" id="path-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 806</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">path=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">check_path</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- path-3D-source -->
            
          </div>

          

          
        </div><!-- path-3D-method -->
      
        <div id="port-3D-method" class="method-detail ">
          <a name="method-i-port-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">port=</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-port-3D-label-Args">Args<span><a href="#method-i-port-3D-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="method-i-port-3D-label-Description">Description<span><a href="#method-i-port-3D-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Public setter for the port component <code>v</code> (with validation).</p>

<p>See also URI::Generic.check_port.</p>

<h2 id="method-i-port-3D-label-Usage">Usage<span><a href="#method-i-port-3D-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;http://my.example.com&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">port</span> = <span class="ruby-value">8080</span>
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">to_s</span>  <span class="ruby-comment">#=&gt; &quot;http://my.example.com:8080&quot;</span>
</pre>
            

            
            <div class="method-source-code" id="port-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 720</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">port=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">check_port</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">set_port</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">port</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- port-3D-source -->
            
          </div>

          

          
        </div><!-- port-3D-method -->
      
        <div id="query-3D-method" class="method-detail ">
          <a name="method-i-query-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">query=</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-query-3D-label-Args">Args<span><a href="#method-i-query-3D-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="method-i-query-3D-label-Description">Description<span><a href="#method-i-query-3D-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Public setter for the query component <code>v</code>.</p>

<h2 id="method-i-query-3D-label-Usage">Usage<span><a href="#method-i-query-3D-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;http://my.example.com/?id=25&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">query</span> = <span class="ruby-string">&quot;id=1&quot;</span>
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">to_s</span>  <span class="ruby-comment">#=&gt; &quot;http://my.example.com/?id=1&quot;</span>
</pre>
            

            
            <div class="method-source-code" id="query-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 830</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">query=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@query</span> = <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">v</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>, <span class="ruby-string">&quot;query conflicts with opaque&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@opaque</span>

  <span class="ruby-identifier">x</span> = <span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_str</span>
  <span class="ruby-identifier">v</span> = <span class="ruby-identifier">x</span>.<span class="ruby-identifier">dup</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">equal?</span> <span class="ruby-identifier">v</span>
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">encode!</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">UTF_8</span>) <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">delete!</span>(<span class="ruby-string">&quot;\t\r\n&quot;</span>)
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">ASCII_8BIT</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>, <span class="ruby-node">&quot;invalid percent escape: #{$1}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-regexp">/(%\H\H)/n</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/(?!%\h\h|[!$-&amp;(-;=?-_a-~])./n</span>.<span class="ruby-identifier">freeze</span>){<span class="ruby-string">'%%%02X'</span> <span class="ruby-operator">%</span> <span class="ruby-node">$&amp;</span>.<span class="ruby-identifier">ord</span>}
  <span class="ruby-identifier">v</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">US_ASCII</span>)
  <span class="ruby-ivar">@query</span> = <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- query-3D-source -->
            
          </div>

          

          
        </div><!-- query-3D-method -->
      
        <div id="registry-3D-method" class="method-detail ">
          <a name="method-i-registry-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">registry=</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
            <div class="method-source-code" id="registry-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 736</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">registry=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidURIError</span>, <span class="ruby-string">&quot;can not set registry&quot;</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- registry-3D-source -->
            
          </div>

          

          
        </div><!-- registry-3D-method -->
      
        <div id="relative-3F-method" class="method-detail ">
          <a name="method-i-relative-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">relative?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns true if <a href="../URI.html">URI</a> does not have a scheme (e.g.
http:// or https://) specified.</p>
            

            
            <div class="method-source-code" id="relative-3F-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 975</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">relative?</span>
  <span class="ruby-operator">!</span><span class="ruby-identifier">absolute?</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- relative-3F-source -->
            
          </div>

          

          
        </div><!-- relative-3F-method -->
      
        <div id="route_from-method" class="method-detail ">
          <a name="method-i-route_from"></a>

          
          <div class="method-heading">
            <span class="method-name">route_from</span><span
              class="method-args">(oth)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-route_from-label-Args">Args<span><a href="#method-i-route_from-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>oth</code>
<dd>
<p><a href="../URI.html">URI</a> or String</p>
</dd></dl>

<h2 id="method-i-route_from-label-Description">Description<span><a href="#method-i-route_from-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Calculates relative path from oth to self.</p>

<h2 id="method-i-route_from-label-Usage">Usage<span><a href="#method-i-route_from-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">'http://my.example.com/main.rbx?page=1'</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">route_from</span>(<span class="ruby-string">'http://my.example.com'</span>)
<span class="ruby-comment">#=&gt; #&lt;URI::Generic /main.rbx?page=1&gt;</span>
</pre>
            

            
            <div class="method-source-code" id="route_from-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1253</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">route_from</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-comment"># you can modify `rel', but can not `oth'.</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">oth</span>, <span class="ruby-identifier">rel</span> = <span class="ruby-identifier">route_from0</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-keyword">rescue</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">class</span>, <span class="ruby-identifier">$!</span>.<span class="ruby-identifier">message</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">oth</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">rel</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">rel</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">route_from_path</span>(<span class="ruby-identifier">oth</span>.<span class="ruby-identifier">path</span>, <span class="ruby-keyword">self</span>.<span class="ruby-identifier">path</span>))
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">path</span> <span class="ruby-operator">==</span> <span class="ruby-string">'./'</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">query</span>
    <span class="ruby-comment"># &quot;./?foo&quot; -&gt; &quot;?foo&quot;</span>
    <span class="ruby-identifier">rel</span>.<span class="ruby-identifier">set_path</span>(<span class="ruby-string">''</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">rel</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- route_from-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Generic.html#method-i-2D">-</a>
          </div>
          

          
        </div><!-- route_from-method -->
      
        <div id="route_to-method" class="method-detail ">
          <a name="method-i-route_to"></a>

          
          <div class="method-heading">
            <span class="method-name">route_to</span><span
              class="method-args">(oth)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-route_to-label-Args">Args<span><a href="#method-i-route_to-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>oth</code>
<dd>
<p><a href="../URI.html">URI</a> or String</p>
</dd></dl>

<h2 id="method-i-route_to-label-Description">Description<span><a href="#method-i-route_to-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Calculates relative path to oth from self.</p>

<h2 id="method-i-route_to-label-Usage">Usage<span><a href="#method-i-route_to-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">'http://my.example.com'</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">route_to</span>(<span class="ruby-string">'http://my.example.com/main.rbx?page=1'</span>)
<span class="ruby-comment">#=&gt; #&lt;URI::Generic /main.rbx?page=1&gt;</span>
</pre>
            

            
            <div class="method-source-code" id="route_to-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1293</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">route_to</span>(<span class="ruby-identifier">oth</span>)
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:convert_to_uri</span>, <span class="ruby-identifier">oth</span>).<span class="ruby-identifier">route_from</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- route_to-source -->
            
          </div>

          

          
        </div><!-- route_to-method -->
      
        <div id="scheme-3D-method" class="method-detail ">
          <a name="method-i-scheme-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">scheme=</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-scheme-3D-label-Args">Args<span><a href="#method-i-scheme-3D-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="method-i-scheme-3D-label-Description">Description<span><a href="#method-i-scheme-3D-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Public setter for the scheme component <code>v</code> (with validation).</p>

<p>See also URI::Generic.check_scheme.</p>

<h2 id="method-i-scheme-3D-label-Usage">Usage<span><a href="#method-i-scheme-3D-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;http://my.example.com&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">scheme</span> = <span class="ruby-string">&quot;https&quot;</span>
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">to_s</span>  <span class="ruby-comment">#=&gt; &quot;https://my.example.com&quot;</span>
</pre>
            

            
            <div class="method-source-code" id="scheme-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 361</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">scheme=</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">check_scheme</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">set_scheme</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- scheme-3D-source -->
            
          </div>

          

          
        </div><!-- scheme-3D-method -->
      
        <div id="select-method" class="method-detail ">
          <a name="method-i-select"></a>

          
          <div class="method-heading">
            <span class="method-name">select</span><span
              class="method-args">(*components)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-select-label-Args">Args<span><a href="#method-i-select-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>components</code>
<dd>
<p>Multiple Symbol arguments defined in <a href="HTTP.html">URI::HTTP</a>.</p>
</dd></dl>

<h2 id="method-i-select-label-Description">Description<span><a href="#method-i-select-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Selects specified components from <a href="../URI.html">URI</a>.</p>

<h2 id="method-i-select-label-Usage">Usage<span><a href="#method-i-select-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">'http://myuser:mypass@my.example.com/test.rbx'</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">select</span>(:<span class="ruby-identifier">userinfo</span>, :<span class="ruby-identifier">host</span>, :<span class="ruby-identifier">path</span>)
<span class="ruby-comment"># =&gt; [&quot;myuser:mypass&quot;, &quot;my.example.com&quot;, &quot;/test.rbx&quot;]</span>
</pre>
            

            
            <div class="method-source-code" id="select-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1430</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">select</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">components</span>)
  <span class="ruby-identifier">components</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">component</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">c</span>)
      <span class="ruby-keyword">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">c</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>,
        <span class="ruby-node">&quot;expected of components of #{self.class} (#{self.class.component.join(', ')})&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- select-source -->
            
          </div>

          

          
        </div><!-- select-method -->
      
        <div id="to_s-method" class="method-detail ">
          <a name="method-i-to_s"></a>

          
          <div class="method-heading">
            <span class="method-name">to_s</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Constructs String from <a href="../URI.html">URI</a>.</p>
            

            
            <div class="method-source-code" id="to_s-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1334</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_s</span>
  <span class="ruby-identifier">str</span> = <span class="ruby-string">''</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@scheme</span>
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@scheme</span>
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">':'</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@opaque</span>
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@opaque</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@host</span> <span class="ruby-operator">||</span> <span class="ruby-node">%w[file postgres]</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-ivar">@scheme</span>)
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">'//'</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">userinfo</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">userinfo</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">'@'</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@host</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@host</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@port</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@port</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">default_port</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">':'</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@port</span>.<span class="ruby-identifier">to_s</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@path</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@query</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">'?'</span>
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@query</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@fragment</span>
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">'#'</span>
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@fragment</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">str</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- to_s-source -->
            
          </div>

          

          
        </div><!-- to_s-method -->
      
        <div id="user-method" class="method-detail ">
          <a name="method-i-user"></a>

          
          <div class="method-heading">
            <span class="method-name">user</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns the user component.</p>
            

            
            <div class="method-source-code" id="user-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 569</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">user</span>
  <span class="ruby-ivar">@user</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- user-source -->
            
          </div>

          

          
        </div><!-- user-method -->
      
        <div id="user-3D-method" class="method-detail ">
          <a name="method-i-user-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">user=</span><span
              class="method-args">(user)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <h2 id="method-i-user-3D-label-Args">Args<span><a href="#method-i-user-3D-label-Args">&para;</a> <a href="#top">&uarr;</a></span></h2>
<dl class="rdoc-list note-list"><dt><code>v</code>
<dd>
<p>String</p>
</dd></dl>

<h2 id="method-i-user-3D-label-Description">Description<span><a href="#method-i-user-3D-label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Public setter for the <code>user</code> component (with validation).</p>

<p>See also URI::Generic.check_user.</p>

<h2 id="method-i-user-3D-label-Usage">Usage<span><a href="#method-i-user-3D-label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">'uri'</span>

<span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;http://john:S3nsit1ve@my.example.com&quot;</span>)
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">user</span> = <span class="ruby-string">&quot;sam&quot;</span>
<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">to_s</span>  <span class="ruby-comment">#=&gt; &quot;http://sam:V3ry_S3nsit1ve@my.example.com&quot;</span>
</pre>
            

            
            <div class="method-source-code" id="user-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 472</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">user=</span>(<span class="ruby-identifier">user</span>)
  <span class="ruby-identifier">check_user</span>(<span class="ruby-identifier">user</span>)
  <span class="ruby-identifier">set_user</span>(<span class="ruby-identifier">user</span>)
  <span class="ruby-comment"># returns user</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- user-3D-source -->
            
          </div>

          

          
        </div><!-- user-3D-method -->
      
        <div id="userinfo-method" class="method-detail ">
          <a name="method-i-userinfo"></a>

          
          <div class="method-heading">
            <span class="method-name">userinfo</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns the userinfo, either as ‘user’ or ‘user:password’.</p>
            

            
            <div class="method-source-code" id="userinfo-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 558</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">userinfo</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@user</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@password</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-ivar">@user</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@user</span> <span class="ruby-operator">+</span> <span class="ruby-string">':'</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@password</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- userinfo-source -->
            
          </div>

          

          
        </div><!-- userinfo-method -->
      
        <div id="userinfo-3D-method" class="method-detail ">
          <a name="method-i-userinfo-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">userinfo=</span><span
              class="method-args">(userinfo)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Sets userinfo, argument is string like ‘name:pass’.</p>
            

            
            <div class="method-source-code" id="userinfo-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 442</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">userinfo=</span>(<span class="ruby-identifier">userinfo</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">userinfo</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">check_userinfo</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">userinfo</span>)
  <span class="ruby-identifier">set_userinfo</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">userinfo</span>)
  <span class="ruby-comment"># returns userinfo</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- userinfo-3D-source -->
            
          </div>

          

          
        </div><!-- userinfo-3D-method -->
      
      </div><!-- public-instance-method-details -->
    
      <div id="protected-instance-method-details" class="method-section section">
        <h3 class="section-header">Protected Instance Methods</h3>

      
        <div id="component_ary-method" class="method-detail ">
          <a name="method-i-component_ary"></a>

          
          <div class="method-heading">
            <span class="method-name">component_ary</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns an Array of the components defined from the <a
href="Generic.html#COMPONENT">COMPONENT</a> Array.</p>
            

            
            <div class="method-source-code" id="component_ary-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 1406</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">component_ary</span>
  <span class="ruby-identifier">component</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">x</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- component_ary-source -->
            
          </div>

          

          
        </div><!-- component_ary-method -->
      
        <div id="set_host-method" class="method-detail ">
          <a name="method-i-set_host"></a>

          
          <div class="method-heading">
            <span class="method-name">set_host</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Protected setter for the host component <code>v</code>.</p>

<p>See also <a href="Generic.html#method-i-host-3D">#host=</a>.</p>
            

            
            <div class="method-source-code" id="set_host-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 604</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_host</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-ivar">@host</span> = <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- set_host-source -->
            
          </div>

          

          
        </div><!-- set_host-method -->
      
        <div id="set_opaque-method" class="method-detail ">
          <a name="method-i-set_opaque"></a>

          
          <div class="method-heading">
            <span class="method-name">set_opaque</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Protected setter for the opaque component <code>v</code>.</p>

<p>See also <a href="Generic.html#method-i-opaque-3D">#opaque=</a>.</p>
            

            
            <div class="method-source-code" id="set_opaque-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 874</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_opaque</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-ivar">@opaque</span> = <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- set_opaque-source -->
            
          </div>

          

          
        </div><!-- set_opaque-method -->
      
        <div id="set_password-method" class="method-detail ">
          <a name="method-i-set_password"></a>

          
          <div class="method-heading">
            <span class="method-name">set_password</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Protected setter for the password component <code>v</code>.</p>

<p>See also <a href="Generic.html#method-i-password-3D">#password=</a>.</p>
            

            
            <div class="method-source-code" id="set_password-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 535</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_password</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-ivar">@password</span> = <span class="ruby-identifier">v</span>
  <span class="ruby-comment"># returns v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- set_password-source -->
            
          </div>

          

          
        </div><!-- set_password-method -->
      
        <div id="set_path-method" class="method-detail ">
          <a name="method-i-set_path"></a>

          
          <div class="method-heading">
            <span class="method-name">set_path</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Protected setter for the path component <code>v</code>.</p>

<p>See also <a href="Generic.html#method-i-path-3D">#path=</a>.</p>
            

            
            <div class="method-source-code" id="set_path-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 780</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_path</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-ivar">@path</span> = <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- set_path-source -->
            
          </div>

          

          
        </div><!-- set_path-method -->
      
        <div id="set_port-method" class="method-detail ">
          <a name="method-i-set_port"></a>

          
          <div class="method-heading">
            <span class="method-name">set_port</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Protected setter for the port component <code>v</code>.</p>

<p>See also <a href="Generic.html#method-i-port-3D">#port=</a>.</p>
            

            
            <div class="method-source-code" id="set_port-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 693</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_port</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">v</span> = <span class="ruby-identifier">v</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-keyword">unless</span> <span class="ruby-operator">!</span><span class="ruby-identifier">v</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Integer</span>)
  <span class="ruby-ivar">@port</span> = <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- set_port-source -->
            
          </div>

          

          
        </div><!-- set_port-method -->
      
        <div id="set_scheme-method" class="method-detail ">
          <a name="method-i-set_scheme"></a>

          
          <div class="method-heading">
            <span class="method-name">set_scheme</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Protected setter for the scheme component <code>v</code>.</p>

<p>See also <a href="Generic.html#method-i-scheme-3D">#scheme=</a>.</p>
            

            
            <div class="method-source-code" id="set_scheme-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 335</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_scheme</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-ivar">@scheme</span> = <span class="ruby-identifier">v</span><span class="ruby-operator">&amp;</span>.<span class="ruby-identifier">downcase</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- set_scheme-source -->
            
          </div>

          

          
        </div><!-- set_scheme-method -->
      
        <div id="set_user-method" class="method-detail ">
          <a name="method-i-set_user"></a>

          
          <div class="method-heading">
            <span class="method-name">set_user</span><span
              class="method-args">(v)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Protected setter for the user component <code>v</code>.</p>

<p>See also <a href="Generic.html#method-i-user-3D">#user=</a>.</p>
            

            
            <div class="method-source-code" id="set_user-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 525</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_user</span>(<span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">set_userinfo</span>(<span class="ruby-identifier">v</span>, <span class="ruby-ivar">@password</span>)
  <span class="ruby-identifier">v</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- set_user-source -->
            
          </div>

          

          
        </div><!-- set_user-method -->
      
        <div id="set_userinfo-method" class="method-detail ">
          <a name="method-i-set_userinfo"></a>

          
          <div class="method-heading">
            <span class="method-name">set_userinfo</span><span
              class="method-args">(user, password = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Protected setter for the <code>user</code> component, and
<code>password</code> if available (with validation).</p>

<p>See also <a href="Generic.html#method-i-userinfo-3D">#userinfo=</a>.</p>
            

            
            <div class="method-source-code" id="set_userinfo-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File uri/generic.rb, line 510</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_userinfo</span>(<span class="ruby-identifier">user</span>, <span class="ruby-identifier">password</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">password</span>
    <span class="ruby-identifier">user</span>, <span class="ruby-identifier">password</span> = <span class="ruby-identifier">split_userinfo</span>(<span class="ruby-identifier">user</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@user</span>     = <span class="ruby-identifier">user</span>
  <span class="ruby-ivar">@password</span> = <span class="ruby-identifier">password</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">password</span>

  [<span class="ruby-ivar">@user</span>, <span class="ruby-ivar">@password</span>]
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- set_userinfo-source -->
            
          </div>

          

          
        </div><!-- set_userinfo-method -->
      
      </div><!-- protected-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  
  <div id='tx_Generic_versioned' class='associated_wrapper'></div><script type='text/javascript'>$("#tx_Generic_versioned").load("/associated/2.5.2/Generic.ihtml");</script> <div id='tx_Generic' class='associated_wrapper'></div><script type='text/javascript'>$("#tx_Generic").load("/associated/Generic.ihtml");</script> 
      
  <!-- dsqus ? -->
     

  
  </div><!-- documentation -->
  <div id='dynamic'>
  </div>
      
          

      
<div class='grids wrapper' id="footer">
  <p><small>This page was generated for Ruby 2.5.2</small></p> 
  
   <p><a href="http://ruby-doc.org">Ruby-doc.org</a> is a service of <a href="http://jamesbritt.com">James Britt</a> and <a href="http://neurogami.com">Neurogami</a>, purveyors of fine dance noise.  <div class='oio-inline'><ins data-revive-zoneid="1" data-revive-id="58924a5717c091dfee6dda3f7d38c4d7"></ins><script async src="//ras.ruby-doc.org/vvv/delivery/thesinkjs.php"></script></div></p>
 
       <p><small>Generated with Ruby-doc Rdoc Generator 0.44.2</small>.</p>
  </div>
</div>
  
  

    
 <script type='text/javascript'>
$(document).ready(function() {
      $.ajaxSetup({ cache: false });
      $("#vulns-alert").load("/associated/vulns.ihtml");
    });

    </script>


 
		<script type='text/javascript'>

	function loadPlus(plusdocs){
			$(plusdocs).find("div[class='associated_wrapper']").each (function() {
					$("#" + this.id).append($(plusdocs).find("#" + this.id ));
					});
	} 

   //function loadInline(json){
   // for (var lookFor in json) {
    //  $(lookFor).after(json[lookFor]);
    // }
  // } // end loadInline


$(document).ready(function() {
		$.ajaxSetup({ cache: false });
			$.get('/associated/2.5.2/plus_Generic.ihtml', 
			function(plusdocs) {
			setTimeout(function() {
				loadPlus(plusdocs);
				}, 2000);
			}
			);


//     $.ajax({
//     dataType: "json",
//      url: '/associated/2.5.2/inline_Generic.js',
//      success: function(json) {
// 			setTimeout(function() {
// 				loadInline(json);
// 				}, 2000);
// 			}
//    });

		});
</script>
		
</body>
</html>


