<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <!-- classpage -- >
    <!-- RD version: 0.44.2  -->
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
  <meta name='description' content='  Class : CSV  -   Ruby 2.5.2 ' />
  <!--  no EOL indicator  -->
  <meta content="2020-03-17 23:09:53 -0500" http-equiv="change-date" />
  <!-- rel_prefix  = ''  ENV['RDOC_FOR_WEBSITE']   = true-->
    
    
    
  <!-- rel_prefix = '.'   asset_rel_prefix = ''  --> 
  <title>Class: CSV (Ruby 2.5.2) </title>
  <link rel="stylesheet" href="css/associated.css" type="text/css" >
  <!-- link rel="stylesheet" href=".css/obf.css"  -->
  <link rel="stylesheet" href="css/inuit.css" >
  <link rel="stylesheet" href="css/grid.inuit.css" >
  <link rel="stylesheet" href="css/2011.css" type="text/css" >
  <link rel="stylesheet" href="css/rdoc.css" type="text/css" >
    <link rel="stylesheet" href="css/carbon17.css" type="text/css" >


  <script src="/js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="/js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="/js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="/js/rubydoc.js" type="text/javascript" charset="utf-8"></script> 


   
<script src="/js/highlight.min.js"></script>
<script> 
  hljs.tabReplace = '  ';
  hljs.initHighlightingOnLoad();
  </script> 

  <style type='text/css'>

    #vulns-alert #vulns{
      background-color: #c33 ! important;
      width: 100%;
      text-align: center;
   }
   
   #vulns-alert #vulns a {
    color: #F99 ! important;
   }
 </style>

   <link rel="stylesheet" href="css/extra.css" type="text/css" >
  <script  src="/js/extra.js"  ></script>


</head>

<body id="top" class="class rdocstar">

<div id='actionbar' >
<div class='wrapper'>
  <ul class='grids g0'>
	<li class='grid-2' ><a href='/' target='_top' >Home</a></li>
	<li class='grid-2' ><a href='/core-2.5.2' target='_top' >Core 2.5.2</a></li>
	<li class='grid-2' ><a href='/stdlib-2.5.2' target='_top' >Std-lib 2.5.2</a></li>

   <li class='grid-2' ><a href='/downloads' target='_top' >Downloads</a></li>
	 <li class='grid-5 right' id='rd-action-search'><form id="searchbox_011815814100681837392:wnccv6st5qk" action="https://ruby-doc.com/search.html"><input type="hidden" name="cx" value="011815814100681837392:wnccv6st5qk" ><input  id='rd-search-input' name="q" type="text" size="20" >&#160;&#160;<input type="submit" name="sa" value="Search" ><input type="hidden" name="cof" value="FORID:9" ></form></li>
	</ul>
</div>
<span id='vulns-alert'></span>
<!-- VERSION HEADER for 2.5.2 NOT FOUND -->
</div> <!-- end action bar -->
 <div class='wrapper'>
  
   <!-- carbon17 added here 2017-09-09 -->
 
   <script src="//m.servedby-buysellads.com/monetization.js" type="text/javascript"></script>
<div class="bsa-cpc"></div>
<script>
  (function(){
    if(typeof _bsa !== 'undefined' && _bsa) {
    _bsa.init('default', 'CKYD627W', 'placement:rubydocorg', {
      target: '.bsa-cpc',
      align: 'horizontal',
      disable_css: 'true'
    });
      }
  })();
</script>

 

   <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
          
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul id='file-metadata'>

          
          
          
          <li class='in-file'>csv.rb</li>      
            
          
          <li class='in-file'>csv/delete_suffix.rb</li>      
            
          
          <li class='in-file'>csv/fields_converter.rb</li>      
            
          
          <li class='in-file'>csv/match_p.rb</li>      
            
          
          <li class='in-file'>csv/parser.rb</li>      
            
          
          <li class='in-file'>csv/row.rb</li>      
            
          
          <li class='in-file'>csv/table.rb</li>      
            
          
          <li class='in-file'>csv/version.rb</li>      
            
          
          <li class='in-file'>csv/writer.rb</li>      
            
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link"><a href="Object.html">Object</a></p>
        
      </div>
      

      

      
      <!-- Namespace Contents -->
      <div id="namespace-list-section" class="section">
        <h3 class="section-header">Namespace</h3>
        <ul class="link-list">
          
          <li><span class="type">MODULE</span> <a href="CSV/DeleteSuffix.html">CSV::DeleteSuffix</a></li>
          
          <li><span class="type">MODULE</span> <a href="CSV/MatchP.html">CSV::MatchP</a></li>
          
          <li><span class="type">CLASS</span> <a href="CSV/FieldsConverter.html">CSV::FieldsConverter</a></li>
          
          <li><span class="type">CLASS</span> <a href="CSV/MalformedCSVError.html">CSV::MalformedCSVError</a></li>
          
          <li><span class="type">CLASS</span> <a href="CSV/Parser.html">CSV::Parser</a></li>
          
          <li><span class="type">CLASS</span> <a href="CSV/Row.html">CSV::Row</a></li>
          
          <li><span class="type">CLASS</span> <a href="CSV/Table.html">CSV::Table</a></li>
          
          <li><span class="type">CLASS</span> <a href="CSV/Writer.html">CSV::Writer</a></li>
          
        </ul>
      </div>
      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-filter">::filter</a></li>
          
          <li><a href="#method-c-foreach">::foreach</a></li>
          
          <li><a href="#method-c-generate">::generate</a></li>
          
          <li><a href="#method-c-generate_line">::generate_line</a></li>
          
          <li><a href="#method-c-instance">::instance</a></li>
          
          <li><a href="#method-c-new">::new</a></li>
          
          <li><a href="#method-c-open">::open</a></li>
          
          <li><a href="#method-c-parse">::parse</a></li>
          
          <li><a href="#method-c-parse_line">::parse_line</a></li>
          
          <li><a href="#method-c-read">::read</a></li>
          
          <li><a href="#method-c-readlines">::readlines</a></li>
          
          <li><a href="#method-c-table">::table</a></li>
          
          <li><a href="#method-i-3C-3C">#<<</a></li>
          
          <li><a href="#method-i-add_row">#add_row</a></li>
          
          <li><a href="#method-i-binmode-3F">#binmode?</a></li>
          
          <li><a href="#method-i-col_sep">#col_sep</a></li>
          
          <li><a href="#method-i-convert">#convert</a></li>
          
          <li><a href="#method-i-converters">#converters</a></li>
          
          <li><a href="#method-i-each">#each</a></li>
          
          <li><a href="#method-i-eof">#eof</a></li>
          
          <li><a href="#method-i-eof-3F">#eof?</a></li>
          
          <li><a href="#method-i-field_size_limit">#field_size_limit</a></li>
          
          <li><a href="#method-i-flock">#flock</a></li>
          
          <li><a href="#method-i-force_quotes-3F">#force_quotes?</a></li>
          
          <li><a href="#method-i-gets">#gets</a></li>
          
          <li><a href="#method-i-header_convert">#header_convert</a></li>
          
          <li><a href="#method-i-header_converters">#header_converters</a></li>
          
          <li><a href="#method-i-header_row-3F">#header_row?</a></li>
          
          <li><a href="#method-i-headers">#headers</a></li>
          
          <li><a href="#method-i-inspect">#inspect</a></li>
          
          <li><a href="#method-i-ioctl">#ioctl</a></li>
          
          <li><a href="#method-i-liberal_parsing-3F">#liberal_parsing?</a></li>
          
          <li><a href="#method-i-line">#line</a></li>
          
          <li><a href="#method-i-lineno">#lineno</a></li>
          
          <li><a href="#method-i-path">#path</a></li>
          
          <li><a href="#method-i-puts">#puts</a></li>
          
          <li><a href="#method-i-quote_char">#quote_char</a></li>
          
          <li><a href="#method-i-read">#read</a></li>
          
          <li><a href="#method-i-readline">#readline</a></li>
          
          <li><a href="#method-i-readlines">#readlines</a></li>
          
          <li><a href="#method-i-return_headers-3F">#return_headers?</a></li>
          
          <li><a href="#method-i-rewind">#rewind</a></li>
          
          <li><a href="#method-i-row_sep">#row_sep</a></li>
          
          <li><a href="#method-i-shift">#shift</a></li>
          
          <li><a href="#method-i-skip_blanks-3F">#skip_blanks?</a></li>
          
          <li><a href="#method-i-skip_lines">#skip_lines</a></li>
          
          <li><a href="#method-i-stat">#stat</a></li>
          
          <li><a href="#method-i-to_i">#to_i</a></li>
          
          <li><a href="#method-i-to_io">#to_io</a></li>
          
          <li><a href="#method-i-unconverted_fields-3F">#unconverted_fields?</a></li>
          
          <li><a href="#method-i-write_headers-3F">#write_headers?</a></li>
          
        </ul>
      </div>
      

      
      <!-- Included Modules -->
      <div id="includes-section" class="section">
        <h3 class="section-header">Included Modules</h3>
        <ul class="link-list">
        
        
          <li><span class="include">Enumerable</span></li>
        
        
        </ul>
      </div>
      
    </div>

    <div id="project-metadata">
      
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="./images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
          
          
          
          <li><a href="./CSV.html">CSV</a></li>
        
          
          
          <li><a href="./CSV/DeleteSuffix.html">CSV::DeleteSuffix</a></li>
        
          
          
          <li><a href="./CSV/FieldsConverter.html">CSV::FieldsConverter</a></li>
        
          
          
          <li><a href="./CSV/MalformedCSVError.html">CSV::MalformedCSVError</a></li>
        
          
          
          <li><a href="./CSV/MatchP.html">CSV::MatchP</a></li>
        
          
          
          <li><a href="./CSV/Parser.html">CSV::Parser</a></li>
        
          
          
          <li><a href="./CSV/Parser/InputsScanner.html">CSV::Parser::InputsScanner</a></li>
        
          
          
          <li><a href="./CSV/Parser/InvalidEncoding.html">CSV::Parser::InvalidEncoding</a></li>
        
          
          
          <li><a href="./CSV/Parser/Scanner.html">CSV::Parser::Scanner</a></li>
        
          
          
          <li><a href="./CSV/Parser/UnoptimizedStringIO.html">CSV::Parser::UnoptimizedStringIO</a></li>
        
          
          
          <li><a href="./CSV/Row.html">CSV::Row</a></li>
        
          
          
          <li><a href="./CSV/Table.html">CSV::Table</a></li>
        
          
          
          <li><a href="./CSV/Writer.html">CSV::Writer</a></li>
        
          
          
          <li><a href="./Object.html">Object</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div> <!-- metadata -->
  <div class='adzbox'  id="azk83167">
    
   <div id="carbonads-container"><div class="carbonad">
<script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CKYIKKQN&placement=rubydocorg" id="_carbonads_js"></script>
  </div></div>

   
  </div> 
  <div id="documentation">
    <h1 class="class">CSV</h1>

    <div id="description" class="description">
      
<p>This class provides a complete interface to <a href="CSV.html">CSV</a>
files and data. It offers tools to enable you to read and write to and from
Strings or IO objects, as needed.</p>

<p>The most generic interface of the library is:</p>

<pre>csv = CSV.new(string_or_io, **options)

# Reading: IO object should be open for read
csv.read # =&gt; array of rows
# or
csv.each do |row|
  # ...
end
# or
row = csv.shift

# Writing: IO object should be open for write
csv &lt;&lt; row</pre>

<p>There are several specialized class methods for one-statement reading or
writing, described in the Specialized Methods section.</p>

<p>If a String is passed into <a href="CSV.html#method-c-new">::new</a>, it is
internally wrapped into a StringIO object.</p>

<p><code>options</code> can be used for specifying the particular <a
href="CSV.html">CSV</a> flavor (column separators, row separators, value
quoting and so on), and for data conversion, see Data Conversion section
for the description of the latter.</p>

<h2 id="class-CSV-label-Specialized+Methods">Specialized Methods<span><a href="#class-CSV-label-Specialized+Methods">&para;</a> <a href="#top">&uarr;</a></span></h2>

<h3 id="class-CSV-label-Reading">Reading<span><a href="#class-CSV-label-Reading">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre># From a file: all at once
arr_of_rows = CSV.read(&quot;path/to/file.csv&quot;, **options)
# iterator-style:
CSV.foreach(&quot;path/to/file.csv&quot;, **options) do |row|
  # ...
end

# From a string
arr_of_rows = CSV.parse(&quot;CSV,data,String&quot;, **options)
# or
CSV.parse(&quot;CSV,data,String&quot;, **options) do |row|
  # ...
end</pre>

<h3 id="class-CSV-label-Writing">Writing<span><a href="#class-CSV-label-Writing">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-comment"># To a file</span>
<span class="ruby-constant">CSV</span>.<span class="ruby-identifier">open</span>(<span class="ruby-string">&quot;path/to/file.csv&quot;</span>, <span class="ruby-string">&quot;wb&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">csv</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">csv</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-string">&quot;row&quot;</span>, <span class="ruby-string">&quot;of&quot;</span>, <span class="ruby-string">&quot;CSV&quot;</span>, <span class="ruby-string">&quot;data&quot;</span>]
  <span class="ruby-identifier">csv</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-string">&quot;another&quot;</span>, <span class="ruby-string">&quot;row&quot;</span>]
  <span class="ruby-comment"># ...</span>
<span class="ruby-keyword">end</span>

<span class="ruby-comment"># To a String</span>
<span class="ruby-identifier">csv_string</span> = <span class="ruby-constant">CSV</span>.<span class="ruby-identifier">generate</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">csv</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">csv</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-string">&quot;row&quot;</span>, <span class="ruby-string">&quot;of&quot;</span>, <span class="ruby-string">&quot;CSV&quot;</span>, <span class="ruby-string">&quot;data&quot;</span>]
  <span class="ruby-identifier">csv</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-string">&quot;another&quot;</span>, <span class="ruby-string">&quot;row&quot;</span>]
  <span class="ruby-comment"># ...</span>
<span class="ruby-keyword">end</span>
</pre>

<h3 id="class-CSV-label-Shortcuts">Shortcuts<span><a href="#class-CSV-label-Shortcuts">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-comment"># Core extensions for converting one line</span>
<span class="ruby-identifier">csv_string</span> = [<span class="ruby-string">&quot;CSV&quot;</span>, <span class="ruby-string">&quot;data&quot;</span>].<span class="ruby-identifier">to_csv</span>   <span class="ruby-comment"># to CSV</span>
<span class="ruby-identifier">csv_array</span>  = <span class="ruby-string">&quot;CSV,String&quot;</span>.<span class="ruby-identifier">parse_csv</span>   <span class="ruby-comment"># from CSV</span>

<span class="ruby-comment"># CSV() method</span>
<span class="ruby-constant">CSV</span>             { <span class="ruby-operator">|</span><span class="ruby-identifier">csv_out</span><span class="ruby-operator">|</span> <span class="ruby-identifier">csv_out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">%w{my data here}</span> }  <span class="ruby-comment"># to $stdout</span>
<span class="ruby-constant">CSV</span>(<span class="ruby-identifier">csv</span> = <span class="ruby-string">&quot;&quot;</span>)   { <span class="ruby-operator">|</span><span class="ruby-identifier">csv_str</span><span class="ruby-operator">|</span> <span class="ruby-identifier">csv_str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">%w{my data here}</span> }  <span class="ruby-comment"># to a String</span>
<span class="ruby-constant">CSV</span>(<span class="ruby-identifier">$stderr</span>)    { <span class="ruby-operator">|</span><span class="ruby-identifier">csv_err</span><span class="ruby-operator">|</span> <span class="ruby-identifier">csv_err</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">%w{my data here}</span> }  <span class="ruby-comment"># to $stderr</span>
<span class="ruby-constant">CSV</span>(<span class="ruby-identifier">$stdin</span>)     { <span class="ruby-operator">|</span><span class="ruby-identifier">csv_in</span><span class="ruby-operator">|</span>  <span class="ruby-identifier">csv_in</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span> <span class="ruby-identifier">row</span> } }  <span class="ruby-comment"># from $stdin</span>
</pre>

<h2 id="class-CSV-label-Data+Conversion">Data Conversion<span><a href="#class-CSV-label-Data+Conversion">&para;</a> <a href="#top">&uarr;</a></span></h2>

<h3 id="class-CSV-label-CSV+with+headers"><a href="CSV.html">CSV</a> with headers<span><a href="#class-CSV-label-CSV+with+headers">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p><a href="CSV.html">CSV</a> allows to specify column names of <a
href="CSV.html">CSV</a> file, whether they are in data, or provided
separately. If headers are specified, reading methods return an instance of
<a href="CSV/Table.html">CSV::Table</a>, consisting of <a
href="CSV/Row.html">CSV::Row</a>.</p>

<pre># Headers are part of data
data = CSV.parse(&lt;&lt;~ROWS, headers: true)
  Name,Department,Salary
  Bob,Engineering,1000
  Jane,Sales,2000
  John,Management,5000
ROWS

data.class      #=&gt; CSV::Table
data.first      #=&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;Bob&quot; &quot;Department&quot;:&quot;Engineering&quot; &quot;Salary&quot;:&quot;1000&quot;&gt;
data.first.to_h #=&gt; {&quot;Name&quot;=&gt;&quot;Bob&quot;, &quot;Department&quot;=&gt;&quot;Engineering&quot;, &quot;Salary&quot;=&gt;&quot;1000&quot;}

# Headers provided by developer
data = CSV.parse('Bob,Engineering,1000', headers: %i[name department salary])
data.first      #=&gt; #&lt;CSV::Row name:&quot;Bob&quot; department:&quot;Engineering&quot; salary:&quot;1000&quot;&gt;</pre>

<h3 id="class-CSV-label-Typed+data+reading">Typed data reading<span><a href="#class-CSV-label-Typed+data+reading">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p><a href="CSV.html">CSV</a> allows to provide a set of data
<em>converters</em> e.g. transformations to try on input data. Converter
could be a symbol from CSV::Converters constant's keys, or lambda.</p>

<pre># Without any converters:
CSV.parse('Bob,2018-03-01,100')
#=&gt; [[&quot;Bob&quot;, &quot;2018-03-01&quot;, &quot;100&quot;]]

# With built-in converters:
CSV.parse('Bob,2018-03-01,100', converters: %i[numeric date])
#=&gt; [[&quot;Bob&quot;, #&lt;Date: 2018-03-01&gt;, 100]]

# With custom converters:
CSV.parse('Bob,2018-03-01,100', converters: [-&gt;(v) { Time.parse(v) rescue v }])
#=&gt; [[&quot;Bob&quot;, 2018-03-01 00:00:00 +0200, &quot;100&quot;]]</pre>

<h2 id="class-CSV-label-CSV+and+Character+Encodings+-28M17n+or+Multilingualization-29"><a href="CSV.html">CSV</a> and Character Encodings (M17n or Multilingualization)<span><a href="#class-CSV-label-CSV+and+Character+Encodings+-28M17n+or+Multilingualization-29">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>This new <a href="CSV.html">CSV</a> parser is m17n savvy.  The parser works
in the Encoding of the IO or String object being read from or written to.
Your data is never transcoded (unless you ask Ruby to transcode it for you)
and will literally be parsed in the Encoding it is in. Thus <a
href="CSV.html">CSV</a> will return Arrays or Rows of Strings in the
Encoding of your data. This is accomplished by transcoding the parser
itself into your Encoding.</p>

<p>Some transcoding must take place, of course, to accomplish this
multiencoding support. For example, <code>:col_sep</code>,
<code>:row_sep</code>, and <code>:quote_char</code> must be transcoded to
match your data.  Hopefully this makes the entire process feel transparent,
since CSV’s defaults should just magically work for your data. However, you
can set these values manually in the target Encoding to avoid the
translation.</p>

<p>It’s also important to note that while all of CSV’s core parser is now
Encoding agnostic, some features are not. For example, the built-in
converters will try to transcode data to UTF-8 before making conversions.
Again, you can provide custom converters that are aware of your Encodings
to avoid this translation. It’s just too hard for me to support native
conversions in all of Ruby’s Encodings.</p>

<p>Anyway, the practical side of this is simple: make sure IO and String
objects passed into <a href="CSV.html">CSV</a> have the proper Encoding set
and everything should just work. <a href="CSV.html">CSV</a> methods that
allow you to open IO objects (CSV::foreach(), <a
href="CSV.html#method-c-open">::open</a>, <a
href="CSV.html#method-c-read">::read</a>, and <a
href="CSV.html#method-c-readlines">::readlines</a>) do allow you to specify
the Encoding.</p>

<p>One minor exception comes when generating <a href="CSV.html">CSV</a> into a
String with an Encoding that is not ASCII compatible. There’s no existing
data for <a href="CSV.html">CSV</a> to use to prepare itself and thus you
will probably need to manually specify the desired Encoding for most of
those cases. It will try to guess using the fields in a row of output
though, when using <a
href="CSV.html#method-c-generate_line">::generate_line</a> or
Array#to_csv().</p>

<p>I try to point out any other Encoding issues in the documentation of
methods as they come up.</p>

<p>This has been tested to the best of my ability with all non-“dummy”
Encodings Ruby ships with. However, it is brave new code and may have some
bugs. Please feel free to <a
href="mailto:james@grayproductions.net">report</a> any issues you find with
it.</p>

<p>frozen_string_literal: true</p>

<p>frozen_string_literal: true</p>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      

      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="filter-method" class="method-detail ">
          <a name="method-c-filter"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">filter( **options ) { |row| ... }</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">filter( input, **options ) { |row| ... }</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">filter( input, output, **options ) { |row| ... }</span>
            
          </div>
          
          
          <div>
  
            
            <p>This method is a convenience for building Unix-like filters for <a
href="CSV.html">CSV</a> data. Each row is yielded to the provided block
which can alter it as needed. After the block returns, the row is appended
to <code>output</code> altered or not.</p>

<p>The <code>input</code> and <code>output</code> arguments can be anything <a
href="CSV.html#method-c-new">::new</a> accepts (generally String or IO
objects). If not given, they default to <code>ARGF</code> and
<code>$stdout</code>.</p>

<p>The <code>options</code> parameter is also filtered down to <a
href="CSV.html#method-c-new">::new</a> after some clever key parsing. Any
key beginning with <code>:in_</code> or <code>:input_</code> will have that
leading identifier stripped and will only be used in the
<code>options</code> Hash for the <code>input</code> object. Keys starting
with <code>:out_</code> or <code>:output_</code> affect only
<code>output</code>. All other keys are assigned to both objects.</p>

<p>The <code>:output_row_sep</code> <code>option</code> defaults to
<code>$INPUT_RECORD_SEPARATOR</code> (<code>$/</code>).</p>
            

            
            <div class="method-source-code" id="filter-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 468</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">filter</span>(<span class="ruby-identifier">input</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">output</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-comment"># parse options for input, output, or both</span>
  <span class="ruby-identifier">in_options</span>, <span class="ruby-identifier">out_options</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>, {<span class="ruby-identifier">row_sep</span><span class="ruby-operator">:</span> <span class="ruby-identifier">$INPUT_RECORD_SEPARATOR</span>}
  <span class="ruby-identifier">options</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>
    <span class="ruby-keyword">when</span> <span class="ruby-regexp">/\Ain(?:put)?_(.+)\Z/</span>
      <span class="ruby-identifier">in_options</span>[<span class="ruby-node">$1</span>.<span class="ruby-identifier">to_sym</span>] = <span class="ruby-identifier">value</span>
    <span class="ruby-keyword">when</span> <span class="ruby-regexp">/\Aout(?:put)?_(.+)\Z/</span>
      <span class="ruby-identifier">out_options</span>[<span class="ruby-node">$1</span>.<span class="ruby-identifier">to_sym</span>] = <span class="ruby-identifier">value</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">in_options</span>[<span class="ruby-identifier">key</span>]  = <span class="ruby-identifier">value</span>
      <span class="ruby-identifier">out_options</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">value</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-comment"># build input and output wrappers</span>
  <span class="ruby-identifier">input</span>  = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">input</span>  <span class="ruby-operator">||</span> <span class="ruby-constant">ARGF</span>,    <span class="ruby-operator">**</span><span class="ruby-identifier">in_options</span>)
  <span class="ruby-identifier">output</span> = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">output</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">$stdout</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">out_options</span>)

  <span class="ruby-comment"># read, yield, write</span>
  <span class="ruby-identifier">input</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">yield</span> <span class="ruby-identifier">row</span>
    <span class="ruby-identifier">output</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">row</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- filter-source -->
            
          </div>

          

          
        </div><!-- filter-method -->
      
        <div id="foreach-method" class="method-detail ">
          <a name="method-c-foreach"></a>

          
          <div class="method-heading">
            <span class="method-name">foreach</span><span
              class="method-args">(path, mode="r", **options, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>This method is intended as the primary interface for reading <a
href="CSV.html">CSV</a> files. You pass a <code>path</code> and any
<code>options</code> you wish to set for the read. Each row of file will be
passed to the provided <code>block</code> in turn.</p>

<p>The <code>options</code> parameter can be anything <a
href="CSV.html#method-c-new">::new</a> understands. This method also
understands an additional <code>:encoding</code> parameter that you can use
to specify the Encoding of the data in the file to be read. You must
provide this unless your data is in Encoding::default_external(). <a
href="CSV.html">CSV</a> will use this to determine how to parse the data.
You may provide a second Encoding to have the data transcoded as it is
read. For example, <code>encoding: &quot;UTF-32BE:UTF-8&quot;</code> would
read UTF-32BE data from the file but transcode it to UTF-8 before <a
href="CSV.html">CSV</a> parses it.</p>
            

            
            <div class="method-source-code" id="foreach-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 507</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">foreach</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">mode</span>=<span class="ruby-string">&quot;r&quot;</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">to_enum</span>(<span class="ruby-identifier">__method__</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">mode</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">block_given?</span>
  <span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">mode</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">csv</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">csv</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- foreach-source -->
            
          </div>

          

          
        </div><!-- foreach-method -->
      
        <div id="generate-method" class="method-detail ">
          <a name="method-c-generate"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">generate( str, **options ) { |csv| ... }</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">generate( **options ) { |csv| ... }</span>
            
          </div>
          
          
          <div>
  
            
            <p>This method wraps a String you provide, or an empty default String, in a <a
href="CSV.html">CSV</a> object which is passed to the provided block. You
can use the block to append <a href="CSV.html">CSV</a> rows to the String
and when the block exits, the final String will be returned.</p>

<p>Note that a passed String <strong>is</strong> modified by this method. Call
dup() before passing if you need a new String.</p>

<p>The <code>options</code> parameter can be anything <a
href="CSV.html#method-c-new">::new</a> understands.  This method
understands an additional <code>:encoding</code> parameter when not passed
a String to set the base Encoding for the output.  <a
href="CSV.html">CSV</a> needs this hint if you plan to output non-ASCII
compatible data.</p>
            

            
            <div class="method-source-code" id="generate-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 532</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">generate</span>(<span class="ruby-identifier">str</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-comment"># add a default empty String, if none was given</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">str</span>
    <span class="ruby-identifier">str</span> = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">str</span>)
    <span class="ruby-identifier">str</span>.<span class="ruby-identifier">seek</span>(<span class="ruby-value">0</span>, <span class="ruby-constant">IO</span><span class="ruby-operator">::</span><span class="ruby-constant">SEEK_END</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">encoding</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:encoding</span>]
    <span class="ruby-identifier">str</span> = <span class="ruby-operator">+</span><span class="ruby-string">&quot;&quot;</span>
    <span class="ruby-identifier">str</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-identifier">encoding</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">encoding</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">csv</span> = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">str</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>) <span class="ruby-comment"># wrap</span>
  <span class="ruby-keyword">yield</span> <span class="ruby-identifier">csv</span>         <span class="ruby-comment"># yield for appending</span>
  <span class="ruby-identifier">csv</span>.<span class="ruby-identifier">string</span>        <span class="ruby-comment"># return final String</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- generate-source -->
            
          </div>

          

          
        </div><!-- generate-method -->
      
        <div id="generate_line-method" class="method-detail ">
          <a name="method-c-generate_line"></a>

          
          <div class="method-heading">
            <span class="method-name">generate_line</span><span
              class="method-args">(row, **options)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>This method is a shortcut for converting a single row (Array) into a <a
href="CSV.html">CSV</a> String.</p>

<p>The <code>options</code> parameter can be anything <a
href="CSV.html#method-c-new">::new</a> understands. This method understands
an additional <code>:encoding</code> parameter to set the base Encoding for
the output. This method will try to guess your Encoding from the first
non-<code>nil</code> field in <code>row</code>, if possible, but you may
need to use this parameter as a backup plan.</p>

<p>The <code>:row_sep</code> <code>option</code> defaults to
<code>$INPUT_RECORD_SEPARATOR</code> (<code>$/</code>) when calling this
method.</p>
            

            
            <div class="method-source-code" id="generate_line-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 560</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">generate_line</span>(<span class="ruby-identifier">row</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">options</span> = {<span class="ruby-identifier">row_sep</span><span class="ruby-operator">:</span> <span class="ruby-identifier">$INPUT_RECORD_SEPARATOR</span>}.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">str</span> = <span class="ruby-operator">+</span><span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:encoding</span>]
    <span class="ruby-identifier">str</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:encoding</span>])
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">field</span> = <span class="ruby-identifier">row</span>.<span class="ruby-identifier">find</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)}
    <span class="ruby-identifier">str</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-identifier">field</span>.<span class="ruby-identifier">encoding</span>)
  <span class="ruby-keyword">end</span>
  (<span class="ruby-identifier">new</span>(<span class="ruby-identifier">str</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">row</span>).<span class="ruby-identifier">string</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- generate_line-source -->
            
          </div>

          

          
        </div><!-- generate_line-method -->
      
        <div id="instance-method" class="method-detail ">
          <a name="method-c-instance"></a>

          
          <div class="method-heading">
            <span class="method-name">instance</span><span
              class="method-args">(data = $stdout, **options)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>This method will return a <a href="CSV.html">CSV</a> instance, just like <a
href="CSV.html#method-c-new">::new</a>, but the instance will be cached and
returned for all future calls to this method for the same <code>data</code>
object (tested by Object#object_id()) with the same <code>options</code>.</p>

<p>If a block is given, the instance is passed to the block and the return
value becomes the return value of the block.</p>
            

            
            <div class="method-source-code" id="instance-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 428</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">instance</span>(<span class="ruby-identifier">data</span> = <span class="ruby-identifier">$stdout</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-comment"># create a _signature_ for this method call, data object and options</span>
  <span class="ruby-identifier">sig</span> = [<span class="ruby-identifier">data</span>.<span class="ruby-identifier">object_id</span>] <span class="ruby-operator">+</span>
        <span class="ruby-identifier">options</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-operator">*</span><span class="ruby-constant">DEFAULT_OPTIONS</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">sort_by</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">sym</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sym</span>.<span class="ruby-identifier">to_s</span> })

  <span class="ruby-comment"># fetch or create the instance for this signature</span>
  <span class="ruby-identifier">@@instances</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">instance</span> = (<span class="ruby-identifier">@@instances</span>[<span class="ruby-identifier">sig</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">new</span>(<span class="ruby-identifier">data</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>))

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-keyword">yield</span> <span class="ruby-identifier">instance</span>  <span class="ruby-comment"># run block, if given, returning result</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">instance</span>        <span class="ruby-comment"># or return the instance</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- instance-source -->
            
          </div>

          

          
        </div><!-- instance-method -->
      
        <div id="new-method" class="method-detail ">
          <a name="method-c-new"></a>

          
          <div class="method-heading">
            <span class="method-name">new</span><span
              class="method-args">(data, col_sep: ",", row_sep: :auto, quote_char: '"', field_size_limit: nil, converters: nil, unconverted_fields: nil, headers: false, return_headers: false, write_headers: nil, header_converters: nil, skip_blanks: false, force_quotes: false, skip_lines: nil, liberal_parsing: false, internal_encoding: nil, external_encoding: nil, encoding: nil, nil_value: nil, empty_value: "", quote_empty: true, write_converters: nil, write_nil_value: nil, write_empty_value: "", strip: false)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>This constructor will wrap either a String or IO object passed in
<code>data</code> for reading and/or writing. In addition to the <a
href="CSV.html">CSV</a> instance methods, several IO methods are delegated.
(See <a href="CSV.html#method-c-open">::open</a> for a complete list.) If
you pass a String for <code>data</code>, you can later retrieve it (after
writing to it, for example) with CSV.string().</p>

<p>Note that a wrapped String will be positioned at the beginning (for
reading). If you want it at the end (for writing), use <a
href="CSV.html#method-c-generate">::generate</a>. If you want any other
positioning, pass a preset StringIO object instead.</p>

<p>You may set any reading and/or writing preferences in the
<code>options</code> Hash. Available options are:</p>
<dl class="rdoc-list note-list"><dt><strong><code>:col_sep</code></strong>
<dd>
<p>The String placed between each field. This String will be transcoded into
the data’s Encoding before parsing.</p>
</dd><dt><strong><code>:row_sep</code></strong>
<dd>
<p>The String appended to the end of each row. This can be set to the special
<code>:auto</code> setting, which requests that <a href="CSV.html">CSV</a>
automatically discover this from the data. Auto-discovery reads ahead in
the data looking for the next <code>&quot;\r\n&quot;</code>,
<code>&quot;\n&quot;</code>, or <code>&quot;\r&quot;</code> sequence. A
sequence will be selected even if it occurs in a quoted field, assuming
that you would have the same line endings there. If none of those sequences
is found, <code>data</code> is <code>ARGF</code>, <code>STDIN</code>,
<code>STDOUT</code>, or <code>STDERR</code>, or the stream is only
available for output, the default <code>$INPUT_RECORD_SEPARATOR</code>
(<code>$/</code>) is used. Obviously, discovery takes a little time. Set
manually if speed is important. Also note that IO objects should be opened
in binary mode on Windows if this feature will be used as the line-ending
translation can cause problems with resetting the document position to
where it was before the read ahead. This String will be transcoded into the
data’s Encoding before parsing.</p>
</dd><dt><strong><code>:quote_char</code></strong>
<dd>
<p>The character used to quote fields. This has to be a single character
String. This is useful for application that incorrectly use <code>'</code>
as the quote character instead of the correct <code>&quot;</code>. <a
href="CSV.html">CSV</a> will always consider a double sequence of this
character to be an escaped quote. This String will be transcoded into the
data’s Encoding before parsing.</p>
</dd><dt><strong><code>:field_size_limit</code></strong>
<dd>
<p>This is a maximum size <a href="CSV.html">CSV</a> will read ahead looking
for the closing quote for a field. (In truth, it reads to the first line
ending beyond this size.) If a quote cannot be found within the limit <a
href="CSV.html">CSV</a> will raise a <a
href="CSV/MalformedCSVError.html">MalformedCSVError</a>, assuming the data
is faulty. You can use this limit to prevent what are effectively DoS
attacks on the parser. However, this limit can cause a legitimate parse to
fail and thus is set to <code>nil</code>, or off, by default.</p>
</dd><dt><strong><code>:converters</code></strong>
<dd>
<p>An Array of names from the <a href="CSV.html#Converters">Converters</a>
Hash and/or lambdas that handle custom conversion. A single converter
doesn’t have to be in an Array. All built-in converters try to transcode
fields to UTF-8 before converting. The conversion will fail if the data
cannot be transcoded, leaving the field unchanged.</p>
</dd><dt><strong><code>:unconverted_fields</code></strong>
<dd>
<p>If set to <code>true</code>, an unconverted_fields() method will be added
to all returned rows (Array or <a href="CSV/Row.html">CSV::Row</a>) that
will return the fields as they were before conversion. Note that
<code>:headers</code> supplied by Array or String were not fields of the
document and thus will have an empty Array attached.</p>
</dd><dt><strong><code>:headers</code></strong>
<dd>
<p>If set to <code>:first_row</code> or <code>true</code>, the initial row of
the <a href="CSV.html">CSV</a> file will be treated as a row of headers. If
set to an Array, the contents will be used as the headers. If set to a
String, the String is run through a call of <a
href="CSV.html#method-c-parse_line">::parse_line</a> with the same
<code>:col_sep</code>, <code>:row_sep</code>, and <code>:quote_char</code>
as this instance to produce an Array of headers. This setting causes <a
href="CSV.html#method-i-shift">#shift</a> to return rows as <a
href="CSV/Row.html">CSV::Row</a> objects instead of Arrays and <a
href="CSV.html#method-i-read">#read</a> to return <a
href="CSV/Table.html">CSV::Table</a> objects instead of an Array of Arrays.</p>
</dd><dt><strong><code>:return_headers</code></strong>
<dd>
<p>When <code>false</code>, header rows are silently swallowed. If set to
<code>true</code>, header rows are returned in a <a
href="CSV/Row.html">CSV::Row</a> object with identical headers and fields
(save that the fields do not go through the converters).</p>
</dd><dt><strong><code>:write_headers</code></strong>
<dd>
<p>When <code>true</code> and <code>:headers</code> is set, a header row will
be added to the output.</p>
</dd><dt><strong><code>:header_converters</code></strong>
<dd>
<p>Identical in functionality to <code>:converters</code> save that the
conversions are only made to header rows. All built-in converters try to
transcode headers to UTF-8 before converting. The conversion will fail if
the data cannot be transcoded, leaving the header unchanged.</p>
</dd><dt><strong><code>:skip_blanks</code></strong>
<dd>
<p>When setting a <code>true</code> value, <a href="CSV.html">CSV</a> will
skip over any empty rows. Note that this setting will not skip rows that
contain column separators, even if the rows contain no actual data. If you
want to skip rows that contain separators but no content, consider using
<code>:skip_lines</code>, or inspecting fields.compact.empty? on each row.</p>
</dd><dt><strong><code>:force_quotes</code></strong>
<dd>
<p>When setting a <code>true</code> value, <a href="CSV.html">CSV</a> will
quote all <a href="CSV.html">CSV</a> fields it creates.</p>
</dd><dt><strong><code>:skip_lines</code></strong>
<dd>
<p>When setting an object responding to <code>match</code>, every line
matching it is considered a comment and ignored during parsing. When set to
a String, it is first converted to a Regexp. When set to <code>nil</code>
no line is considered a comment. If the passed object does not respond to
<code>match</code>, <code>ArgumentError</code> is thrown.</p>
</dd><dt><strong><code>:liberal_parsing</code></strong>
<dd>
<p>When setting a <code>true</code> value, <a href="CSV.html">CSV</a> will
attempt to parse input not conformant with RFC 4180, such as double quotes
in unquoted fields.</p>
</dd><dt><strong><code>:nil_value</code></strong>
<dd>
<p>When set an object, any values of an empty field is replaced by the set
object, not nil.</p>
</dd><dt><strong><code>:empty_value</code></strong>
<dd>
<p>When setting an object, any values of a blank string field is replaced by
the set object.</p>
</dd><dt><strong><code>:quote_empty</code></strong>
<dd>
<p>When setting a <code>true</code> value, <a href="CSV.html">CSV</a> will
quote empty values with double quotes. When <code>false</code>, <a
href="CSV.html">CSV</a> will emit an empty string for an empty field value.</p>
</dd><dt><strong><code>:write_converters</code></strong>
<dd>
<p>Converts values on each line with the specified <code>Proc</code>
object(s), which receive a <code>String</code> value and return a
<code>String</code> or <code>nil</code> value. When an array is specified,
each converter will be applied in order.</p>
</dd><dt><strong><code>:write_nil_value</code></strong>
<dd>
<p>When a <code>String</code> value, <code>nil</code> value(s) on each line
will be replaced with the specified value.</p>
</dd><dt><strong><code>:write_empty_value</code></strong>
<dd>
<p>When a <code>String</code> or <code>nil</code> value, empty value(s) on
each line will be replaced with the specified value.</p>
</dd><dt><strong><code>:strip</code></strong>
<dd>
<p>When setting a <code>true</code> value, <a href="CSV.html">CSV</a> will
strip “trnfv” around the values. If you specify a string instead of
<code>true</code>, <a href="CSV.html">CSV</a> will strip string. The length
of the string must be 1.</p>
</dd></dl>

<p>See CSV::DEFAULT_OPTIONS for the default settings.</p>

<p>Options cannot be overridden in the instance methods for performance
reasons, so be sure to set what you want here.</p>
            

            
            <div class="method-source-code" id="new-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 920</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">data</span>,
               <span class="ruby-identifier">col_sep</span><span class="ruby-operator">:</span> <span class="ruby-string">&quot;,&quot;</span>,
               <span class="ruby-identifier">row_sep</span><span class="ruby-operator">:</span> <span class="ruby-value">:auto</span>,
               <span class="ruby-identifier">quote_char</span><span class="ruby-operator">:</span> <span class="ruby-string">'&quot;'</span>,
               <span class="ruby-identifier">field_size_limit</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">converters</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">unconverted_fields</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">headers</span><span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>,
               <span class="ruby-identifier">return_headers</span><span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>,
               <span class="ruby-identifier">write_headers</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">header_converters</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">skip_blanks</span><span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>,
               <span class="ruby-identifier">force_quotes</span><span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>,
               <span class="ruby-identifier">skip_lines</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">liberal_parsing</span><span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>,
               <span class="ruby-identifier">internal_encoding</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">external_encoding</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">encoding</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">nil_value</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">empty_value</span><span class="ruby-operator">:</span> <span class="ruby-string">&quot;&quot;</span>,
               <span class="ruby-identifier">quote_empty</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span>,
               <span class="ruby-identifier">write_converters</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">write_nil_value</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
               <span class="ruby-identifier">write_empty_value</span><span class="ruby-operator">:</span> <span class="ruby-string">&quot;&quot;</span>,
               <span class="ruby-identifier">strip</span><span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;Cannot parse nil as CSV&quot;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">data</span>.<span class="ruby-identifier">nil?</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">data</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
    <span class="ruby-ivar">@io</span> = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">data</span>)
    <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">set_encoding</span>(<span class="ruby-identifier">encoding</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">data</span>.<span class="ruby-identifier">encoding</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@io</span> = <span class="ruby-identifier">data</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@encoding</span> = <span class="ruby-identifier">determine_encoding</span>(<span class="ruby-identifier">encoding</span>, <span class="ruby-identifier">internal_encoding</span>)

  <span class="ruby-ivar">@base_fields_converter_options</span> = {
    <span class="ruby-identifier">nil_value</span><span class="ruby-operator">:</span> <span class="ruby-identifier">nil_value</span>,
    <span class="ruby-identifier">empty_value</span><span class="ruby-operator">:</span> <span class="ruby-identifier">empty_value</span>,
  }
  <span class="ruby-ivar">@write_fields_converter_options</span> = {
    <span class="ruby-identifier">nil_value</span><span class="ruby-operator">:</span> <span class="ruby-identifier">write_nil_value</span>,
    <span class="ruby-identifier">empty_value</span><span class="ruby-operator">:</span> <span class="ruby-identifier">write_empty_value</span>,
  }
  <span class="ruby-ivar">@initial_converters</span> = <span class="ruby-identifier">converters</span>
  <span class="ruby-ivar">@initial_header_converters</span> = <span class="ruby-identifier">header_converters</span>
  <span class="ruby-ivar">@initial_write_converters</span> = <span class="ruby-identifier">write_converters</span>

  <span class="ruby-ivar">@parser_options</span> = {
    <span class="ruby-identifier">column_separator</span><span class="ruby-operator">:</span> <span class="ruby-identifier">col_sep</span>,
    <span class="ruby-identifier">row_separator</span><span class="ruby-operator">:</span> <span class="ruby-identifier">row_sep</span>,
    <span class="ruby-identifier">quote_character</span><span class="ruby-operator">:</span> <span class="ruby-identifier">quote_char</span>,
    <span class="ruby-identifier">field_size_limit</span><span class="ruby-operator">:</span> <span class="ruby-identifier">field_size_limit</span>,
    <span class="ruby-identifier">unconverted_fields</span><span class="ruby-operator">:</span> <span class="ruby-identifier">unconverted_fields</span>,
    <span class="ruby-identifier">headers</span><span class="ruby-operator">:</span> <span class="ruby-identifier">headers</span>,
    <span class="ruby-identifier">return_headers</span><span class="ruby-operator">:</span> <span class="ruby-identifier">return_headers</span>,
    <span class="ruby-identifier">skip_blanks</span><span class="ruby-operator">:</span> <span class="ruby-identifier">skip_blanks</span>,
    <span class="ruby-identifier">skip_lines</span><span class="ruby-operator">:</span> <span class="ruby-identifier">skip_lines</span>,
    <span class="ruby-identifier">liberal_parsing</span><span class="ruby-operator">:</span> <span class="ruby-identifier">liberal_parsing</span>,
    <span class="ruby-identifier">encoding</span><span class="ruby-operator">:</span> <span class="ruby-ivar">@encoding</span>,
    <span class="ruby-identifier">nil_value</span><span class="ruby-operator">:</span> <span class="ruby-identifier">nil_value</span>,
    <span class="ruby-identifier">empty_value</span><span class="ruby-operator">:</span> <span class="ruby-identifier">empty_value</span>,
    <span class="ruby-identifier">strip</span><span class="ruby-operator">:</span> <span class="ruby-identifier">strip</span>,
  }
  <span class="ruby-ivar">@parser</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@parser_enumerator</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@eof_error</span> = <span class="ruby-keyword">nil</span>

  <span class="ruby-ivar">@writer_options</span> = {
    <span class="ruby-identifier">encoding</span><span class="ruby-operator">:</span> <span class="ruby-ivar">@encoding</span>,
    <span class="ruby-identifier">force_encoding</span><span class="ruby-operator">:</span> (<span class="ruby-keyword">not</span> <span class="ruby-identifier">encoding</span>.<span class="ruby-identifier">nil?</span>),
    <span class="ruby-identifier">force_quotes</span><span class="ruby-operator">:</span> <span class="ruby-identifier">force_quotes</span>,
    <span class="ruby-identifier">headers</span><span class="ruby-operator">:</span> <span class="ruby-identifier">headers</span>,
    <span class="ruby-identifier">write_headers</span><span class="ruby-operator">:</span> <span class="ruby-identifier">write_headers</span>,
    <span class="ruby-identifier">column_separator</span><span class="ruby-operator">:</span> <span class="ruby-identifier">col_sep</span>,
    <span class="ruby-identifier">row_separator</span><span class="ruby-operator">:</span> <span class="ruby-identifier">row_sep</span>,
    <span class="ruby-identifier">quote_character</span><span class="ruby-operator">:</span> <span class="ruby-identifier">quote_char</span>,
    <span class="ruby-identifier">quote_empty</span><span class="ruby-operator">:</span> <span class="ruby-identifier">quote_empty</span>,
  }

  <span class="ruby-ivar">@writer</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">writer</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@writer_options</span>[<span class="ruby-value">:write_headers</span>]
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- new-source -->
            
          </div>

          

          
        </div><!-- new-method -->
      
        <div id="open-method" class="method-detail ">
          <a name="method-c-open"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">open( filename, mode = "rb", **options ) { |faster_csv| ... }</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">open( filename, **options ) { |faster_csv| ... }</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">open( filename, mode = "rb", **options )</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">open( filename, **options )</span>
            
          </div>
          
          
          <div>
  
            
            <p>This method opens an IO object, and wraps that with <a
href="CSV.html">CSV</a>. This is intended as the primary interface for
writing a <a href="CSV.html">CSV</a> file.</p>

<p>You must pass a <code>filename</code> and may optionally add a
<code>mode</code> for Ruby’s open(). You may also pass an optional Hash
containing any <code>options</code> <a
href="CSV.html#method-c-new">::new</a> understands as the final argument.</p>

<p>This method works like Ruby’s open() call, in that it will pass a <a
href="CSV.html">CSV</a> object to a provided block and close it when the
block terminates, or it will return the <a href="CSV.html">CSV</a> object
when no block is provided. (<strong>Note</strong>: This is different from
the Ruby 1.8 <a href="CSV.html">CSV</a> library which passed rows to the
block. Use <a href="CSV.html#method-c-foreach">::foreach</a> for that
behavior.)</p>

<p>You must provide a <code>mode</code> with an embedded Encoding designator
unless your data is in Encoding::default_external(). <a
href="CSV.html">CSV</a> will check the Encoding of the underlying IO object
(set by the <code>mode</code> you pass) to determine how to parse the data.
You may provide a second Encoding to have the data transcoded as it is read
just as you can with a normal call to IO::open(). For example,
<code>&quot;rb:UTF-32BE:UTF-8&quot;</code> would read UTF-32BE data from
the file but transcode it to UTF-8 before <a href="CSV.html">CSV</a> parses
it.</p>

<p>An opened <a href="CSV.html">CSV</a> object will delegate to many IO
methods for convenience. You may call:</p>
<ul><li>
<p>binmode()</p>
</li><li>
<p>binmode?()</p>
</li><li>
<p>close()</p>
</li><li>
<p>close_read()</p>
</li><li>
<p>close_write()</p>
</li><li>
<p>closed?()</p>
</li><li>
<p>eof()</p>
</li><li>
<p>eof?()</p>
</li><li>
<p>external_encoding()</p>
</li><li>
<p>fcntl()</p>
</li><li>
<p>fileno()</p>
</li><li>
<p>flock()</p>
</li><li>
<p>flush()</p>
</li><li>
<p>fsync()</p>
</li><li>
<p>internal_encoding()</p>
</li><li>
<p>ioctl()</p>
</li><li>
<p>isatty()</p>
</li><li>
<p>path()</p>
</li><li>
<p>pid()</p>
</li><li>
<p>pos()</p>
</li><li>
<p>pos=()</p>
</li><li>
<p>reopen()</p>
</li><li>
<p>seek()</p>
</li><li>
<p>stat()</p>
</li><li>
<p>sync()</p>
</li><li>
<p>sync=()</p>
</li><li>
<p>tell()</p>
</li><li>
<p><a href="CSV.html#method-i-to_i">#to_i</a>()</p>
</li><li>
<p><a href="CSV.html#method-i-to_io">#to_io</a>()</p>
</li><li>
<p>truncate()</p>
</li><li>
<p>tty?()</p>
</li></ul>
            

            
            <div class="method-source-code" id="open-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 634</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">open</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">mode</span>=<span class="ruby-string">&quot;r&quot;</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-comment"># wrap a File opened with the remaining +args+ with no newline</span>
  <span class="ruby-comment"># decorator</span>
  <span class="ruby-identifier">file_opts</span> = {<span class="ruby-identifier">universal_newline</span><span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>}.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>)

  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">f</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">mode</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">file_opts</span>)
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">ArgumentError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-keyword">unless</span> <span class="ruby-regexp">/needs binmode/</span>.<span class="ruby-identifier">match?</span>(<span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>) <span class="ruby-keyword">and</span> <span class="ruby-identifier">mode</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;r&quot;</span>
    <span class="ruby-identifier">mode</span> = <span class="ruby-string">&quot;rb&quot;</span>
    <span class="ruby-identifier">file_opts</span> = {<span class="ruby-identifier">encoding</span><span class="ruby-operator">:</span> <span class="ruby-constant">Encoding</span>.<span class="ruby-identifier">default_external</span>}.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">file_opts</span>)
    <span class="ruby-keyword">retry</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">csv</span> = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">f</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Exception</span>
    <span class="ruby-identifier">f</span>.<span class="ruby-identifier">close</span>
    <span class="ruby-identifier">raise</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># handle blocks like Ruby's open(), not like the CSV library</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-keyword">yield</span> <span class="ruby-identifier">csv</span>
    <span class="ruby-keyword">ensure</span>
      <span class="ruby-identifier">csv</span>.<span class="ruby-identifier">close</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">csv</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- open-source -->
            
          </div>

          

          
        </div><!-- open-method -->
      
        <div id="parse-method" class="method-detail ">
          <a name="method-c-parse"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">parse( str, **options ) { |row| ... }</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">parse( str, **options )</span>
            
          </div>
          
          
          <div>
  
            
            <p>This method can be used to easily parse <a href="CSV.html">CSV</a> out of a
String. You may either provide a <code>block</code> which will be called
with each row of the String in turn, or just use the returned Array of
Arrays (when no <code>block</code> is given).</p>

<p>You pass your <code>str</code> to read from, and an optional
<code>options</code> containing anything <a
href="CSV.html#method-c-new">::new</a> understands.</p>
            

            
            <div class="method-source-code" id="parse-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 678</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">parse</span>(<span class="ruby-identifier">str</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">csv</span> = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">str</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">csv</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>

  <span class="ruby-comment"># slurp contents, if no block is given</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">csv</span>.<span class="ruby-identifier">read</span>
  <span class="ruby-keyword">ensure</span>
    <span class="ruby-identifier">csv</span>.<span class="ruby-identifier">close</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- parse-source -->
            
          </div>

          

          
        </div><!-- parse-method -->
      
        <div id="parse_line-method" class="method-detail ">
          <a name="method-c-parse_line"></a>

          
          <div class="method-heading">
            <span class="method-name">parse_line</span><span
              class="method-args">(line, **options)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>This method is a shortcut for converting a single line of a <a
href="CSV.html">CSV</a> String into an Array. Note that if
<code>line</code> contains multiple rows, anything beyond the first row is
ignored.</p>

<p>The <code>options</code> parameter can be anything <a
href="CSV.html#method-c-new">::new</a> understands.</p>
            

            
            <div class="method-source-code" id="parse_line-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 698</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">parse_line</span>(<span class="ruby-identifier">line</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">new</span>(<span class="ruby-identifier">line</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>).<span class="ruby-identifier">shift</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- parse_line-source -->
            
          </div>

          

          
        </div><!-- parse_line-method -->
      
        <div id="read-method" class="method-detail ">
          <a name="method-c-read"></a>

          
          <div class="method-heading">
            <span class="method-name">read</span><span
              class="method-args">(path, **options)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Use to slurp a <a href="CSV.html">CSV</a> file into an Array of Arrays.
Pass the <code>path</code> to the file and any <code>options</code> <a
href="CSV.html#method-c-new">::new</a> understands. This method also
understands an additional <code>:encoding</code> parameter that you can use
to specify the Encoding of the data in the file to be read. You must
provide this unless your data is in Encoding::default_external(). <a
href="CSV.html">CSV</a> will use this to determine how to parse the data.
You may provide a second Encoding to have the data transcoded as it is
read. For example, <code>encoding: &quot;UTF-32BE:UTF-8&quot;</code> would
read UTF-32BE data from the file but transcode it to UTF-8 before <a
href="CSV.html">CSV</a> parses it.</p>
            

            
            <div class="method-source-code" id="read-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 713</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">read</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">csv</span><span class="ruby-operator">|</span> <span class="ruby-identifier">csv</span>.<span class="ruby-identifier">read</span> }
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- read-source -->
            
          </div>

          

          
        </div><!-- read-method -->
      
        <div id="readlines-method" class="method-detail ">
          <a name="method-c-readlines"></a>

          
          <div class="method-heading">
            <span class="method-name">readlines</span><span
              class="method-args">(path, **options)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Alias for <a href="CSV.html#method-c-read">::read</a>.</p>
            

            
            <div class="method-source-code" id="readlines-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 718</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">readlines</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">read</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- readlines-source -->
            
          </div>

          

          
        </div><!-- readlines-method -->
      
        <div id="table-method" class="method-detail ">
          <a name="method-c-table"></a>

          
          <div class="method-heading">
            <span class="method-name">table</span><span
              class="method-args">(path, **options)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>A shortcut for:</p>

<pre class="ruby"><span class="ruby-constant">CSV</span>.<span class="ruby-identifier">read</span>( <span class="ruby-identifier">path</span>, { <span class="ruby-identifier">headers</span><span class="ruby-operator">:</span>           <span class="ruby-keyword">true</span>,
                  <span class="ruby-identifier">converters</span><span class="ruby-operator">:</span>        :<span class="ruby-identifier">numeric</span>,
                  <span class="ruby-identifier">header_converters</span><span class="ruby-operator">:</span> :<span class="ruby-identifier">symbol</span> }.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>) )
</pre>
            

            
            <div class="method-source-code" id="table-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 729</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">table</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">default_options</span> = {
    <span class="ruby-identifier">headers</span><span class="ruby-operator">:</span>           <span class="ruby-keyword">true</span>,
    <span class="ruby-identifier">converters</span><span class="ruby-operator">:</span>        <span class="ruby-value">:numeric</span>,
    <span class="ruby-identifier">header_converters</span><span class="ruby-operator">:</span> <span class="ruby-value">:symbol</span>,
  }
  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">default_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">read</span>(<span class="ruby-identifier">path</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- table-source -->
            
          </div>

          

          
        </div><!-- table-method -->
      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="3C-3C-method" class="method-detail ">
          <a name="method-i-3C-3C"></a>

          
          <div class="method-heading">
            <span class="method-name">&lt;&lt;</span><span
              class="method-args">(row)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>The primary write method for wrapped Strings and IOs, <code>row</code> (an
Array or <a href="CSV/Row.html">CSV::Row</a>) is converted to <a
href="CSV.html">CSV</a> and appended to the data source. When a <a
href="CSV/Row.html">CSV::Row</a> is passed, only the row’s fields() are
appended to the output.</p>

<p>The data source must be open for writing.</p>
            

            
            <div class="method-source-code" id="3C-3C-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1228</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">&lt;&lt;</span>(<span class="ruby-identifier">row</span>)
  <span class="ruby-identifier">writer</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">row</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- 3C-3C-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="CSV.html#method-i-add_row">add_row</a>, <a href="CSV.html#method-i-puts">puts</a>
          </div>
          

          
        </div><!-- 3C-3C-method -->
      
        <div id="add_row-method" class="method-detail method-alias">
          <a name="method-i-add_row"></a>

          
          <div class="method-heading">
            <span class="method-name">add_row</span><span
              class="method-args">(row)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="CSV.html#method-i-3C-3C">&lt;&lt;</a>
          </div>
          
        </div><!-- add_row-method -->
      
        <div id="binmode-3F-method" class="method-detail ">
          <a name="method-i-binmode-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">binmode?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
            <div class="method-source-code" id="binmode-3F-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1160</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">binmode?</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:binmode?</span>)
    <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">binmode?</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- binmode-3F-source -->
            
          </div>

          

          
        </div><!-- binmode-3F-method -->
      
        <div id="col_sep-method" class="method-detail ">
          <a name="method-i-col_sep"></a>

          
          <div class="method-heading">
            <span class="method-name">col_sep</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>The encoded <code>:col_sep</code> used in parsing and writing. See <a
href="CSV.html#method-c-new">::new</a> for details.</p>
            

            
            <div class="method-source-code" id="col_sep-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1007</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">col_sep</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">column_separator</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- col_sep-source -->
            
          </div>

          

          
        </div><!-- col_sep-method -->
      
        <div id="convert-method" class="method-detail ">
          <a name="method-i-convert"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">convert( name )</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">convert { |field| ... }</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">convert { |field, field_info| ... }</span>
            
          </div>
          
          
          <div>
  
            
            <p>You can use this method to install a CSV::Converters built-in, or provide a
block that handles a custom conversion.</p>

<p>If you provide a block that takes one argument, it will be passed the field
and is expected to return the converted value or the field itself. If your
block takes two arguments, it will also be passed a CSV::FieldInfo Struct,
containing details about the field. Again, the block should return a
converted field or the field itself.</p>
            

            
            <div class="method-source-code" id="convert-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1250</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">convert</span>(<span class="ruby-identifier">name</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">converter</span>)
  <span class="ruby-identifier">parser_fields_converter</span>.<span class="ruby-identifier">add_converter</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">converter</span>)
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- convert-source -->
            
          </div>

          

          
        </div><!-- convert-method -->
      
        <div id="converters-method" class="method-detail ">
          <a name="method-i-converters"></a>

          
          <div class="method-heading">
            <span class="method-name">converters</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns the current list of converters in effect. See <a
href="CSV.html#method-c-new">::new</a> for details. Built-in converters
will be returned by name, while others will be returned as is.</p>
            

            
            <div class="method-source-code" id="converters-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1048</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">converters</span>
  <span class="ruby-identifier">parser_fields_converter</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">converter</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">name</span> = <span class="ruby-constant">Converters</span>.<span class="ruby-identifier">rassoc</span>(<span class="ruby-identifier">converter</span>)
    <span class="ruby-identifier">name</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">converter</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- converters-source -->
            
          </div>

          

          
        </div><!-- converters-method -->
      
        <div id="each-method" class="method-detail ">
          <a name="method-i-each"></a>

          
          <div class="method-heading">
            <span class="method-name">each</span><span
              class="method-args">(&block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Yields each row of the data source in turn.</p>

<p>Support for Enumerable.</p>

<p>The data source must be open for reading.</p>
            

            
            <div class="method-source-code" id="each-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1278</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">parser_enumerator</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- each-source -->
            
          </div>

          

          
        </div><!-- each-method -->
      
        <div id="eof-method" class="method-detail method-alias">
          <a name="method-i-eof"></a>

          
          <div class="method-heading">
            <span class="method-name">eof</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="CSV.html#method-i-eof-3F">eof?</a>
          </div>
          
        </div><!-- eof-method -->
      
        <div id="eof-3F-method" class="method-detail ">
          <a name="method-i-eof-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">eof?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
            <div class="method-source-code" id="eof-3F-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1196</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">eof?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@eof_error</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">parser_enumerator</span>.<span class="ruby-identifier">peek</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">MalformedCSVError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">error</span>
    <span class="ruby-ivar">@eof_error</span> = <span class="ruby-identifier">error</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">StopIteration</span>
    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- eof-3F-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="CSV.html#method-i-eof">eof</a>
          </div>
          

          
        </div><!-- eof-3F-method -->
      
        <div id="field_size_limit-method" class="method-detail ">
          <a name="method-i-field_size_limit"></a>

          
          <div class="method-heading">
            <span class="method-name">field_size_limit</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>The limit for field size, if any. See <a
href="CSV.html#method-c-new">::new</a> for details.</p>
            

            
            <div class="method-source-code" id="field_size_limit-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1031</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">field_size_limit</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">field_size_limit</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- field_size_limit-source -->
            
          </div>

          

          
        </div><!-- field_size_limit-method -->
      
        <div id="flock-method" class="method-detail ">
          <a name="method-i-flock"></a>

          
          <div class="method-heading">
            <span class="method-name">flock</span><span
              class="method-args">(*args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
            <div class="method-source-code" id="flock-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1168</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">flock</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotImplementedError</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:flock</span>)
  <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">flock</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- flock-source -->
            
          </div>

          

          
        </div><!-- flock-method -->
      
        <div id="force_quotes-3F-method" class="method-detail ">
          <a name="method-i-force_quotes-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">force_quotes?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns <code>true</code> if all output fields are quoted. See <a
href="CSV.html#method-c-new">::new</a> for details.</p>
            

            
            <div class="method-source-code" id="force_quotes-3F-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1116</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">force_quotes?</span>
  <span class="ruby-ivar">@writer_options</span>[<span class="ruby-value">:force_quotes</span>]
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- force_quotes-3F-source -->
            
          </div>

          

          
        </div><!-- force_quotes-3F-method -->
      
        <div id="gets-method" class="method-detail method-alias">
          <a name="method-i-gets"></a>

          
          <div class="method-heading">
            <span class="method-name">gets</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="CSV.html#method-i-shift">shift</a>
          </div>
          
        </div><!-- gets-method -->
      
        <div id="header_convert-method" class="method-detail ">
          <a name="method-i-header_convert"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">header_convert( name )</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">header_convert { |field| ... }</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">header_convert { |field, field_info| ... }</span>
            
          </div>
          
          
          <div>
  
            
            <p>Identical to <a href="CSV.html#method-i-convert">#convert</a>, but for
header rows.</p>

<p>Note that this method must be called before header rows are read to have
any effect.</p>
            

            
            <div class="method-source-code" id="header_convert-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1265</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">header_convert</span>(<span class="ruby-identifier">name</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">converter</span>)
  <span class="ruby-identifier">header_fields_converter</span>.<span class="ruby-identifier">add_converter</span>(<span class="ruby-identifier">name</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">converter</span>)
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- header_convert-source -->
            
          </div>

          

          
        </div><!-- header_convert-method -->
      
        <div id="header_converters-method" class="method-detail ">
          <a name="method-i-header_converters"></a>

          
          <div class="method-heading">
            <span class="method-name">header_converters</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns the current list of converters in effect for headers. See <a
href="CSV.html#method-c-new">::new</a> for details. Built-in converters
will be returned by name, while others will be returned as is.</p>
            

            
            <div class="method-source-code" id="header_converters-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1100</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">header_converters</span>
  <span class="ruby-identifier">header_fields_converter</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">converter</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">name</span> = <span class="ruby-constant">HeaderConverters</span>.<span class="ruby-identifier">rassoc</span>(<span class="ruby-identifier">converter</span>)
    <span class="ruby-identifier">name</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">converter</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- header_converters-source -->
            
          </div>

          

          
        </div><!-- header_converters-method -->
      
        <div id="header_row-3F-method" class="method-detail ">
          <a name="method-i-header_row-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">header_row?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns <code>true</code> if the next row read will be a header row.</p>
            

            
            <div class="method-source-code" id="header_row-3F-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1298</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">header_row?</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">header_row?</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- header_row-3F-source -->
            
          </div>

          

          
        </div><!-- header_row-3F-method -->
      
        <div id="headers-method" class="method-detail ">
          <a name="method-i-headers"></a>

          
          <div class="method-heading">
            <span class="method-name">headers</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns <code>nil</code> if headers will not be used, <code>true</code> if
they will but have not yet been read, or the actual headers after they have
been read. See <a href="CSV.html#method-c-new">::new</a> for details.</p>
            

            
            <div class="method-source-code" id="headers-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1068</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">headers</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@writer</span>
    <span class="ruby-ivar">@writer</span>.<span class="ruby-identifier">headers</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">parsed_headers</span> = <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">headers</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">parsed_headers</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">parsed_headers</span>
    <span class="ruby-identifier">raw_headers</span> = <span class="ruby-ivar">@parser_options</span>[<span class="ruby-value">:headers</span>]
    <span class="ruby-identifier">raw_headers</span> = <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">raw_headers</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
    <span class="ruby-identifier">raw_headers</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- headers-source -->
            
          </div>

          

          
        </div><!-- headers-method -->
      
        <div id="inspect-method" class="method-detail ">
          <a name="method-i-inspect"></a>

          
          <div class="method-heading">
            <span class="method-name">inspect</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns a simplified description of the key <a href="CSV.html">CSV</a>
attributes in an ASCII compatible String.</p>
            

            
            <div class="method-source-code" id="inspect-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1327</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">inspect</span>
  <span class="ruby-identifier">str</span> = [<span class="ruby-node">&quot;#&lt;&quot;</span>, <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-string">&quot; io_type:&quot;</span>]
  <span class="ruby-comment"># show type of wrapped IO</span>
  <span class="ruby-keyword">if</span>    <span class="ruby-ivar">@io</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">$stdout</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;$stdout&quot;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@io</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">$stdin</span>  <span class="ruby-keyword">then</span> <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;$stdin&quot;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@io</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">$stderr</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;$stderr&quot;</span>
  <span class="ruby-keyword">else</span>                      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-comment"># show IO.path(), if available</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:path</span>) <span class="ruby-keyword">and</span> (<span class="ruby-identifier">p</span> = <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot; io_path:&quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">inspect</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-comment"># show encoding</span>
  <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot; encoding:&quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@encoding</span>.<span class="ruby-identifier">name</span>
  <span class="ruby-comment"># show other attributes</span>
  [<span class="ruby-string">&quot;lineno&quot;</span>, <span class="ruby-string">&quot;col_sep&quot;</span>, <span class="ruby-string">&quot;row_sep&quot;</span>, <span class="ruby-string">&quot;quote_char&quot;</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr_name</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">a</span> = <span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">attr_name</span>)
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot; &quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">attr_name</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;:&quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">inspect</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  [<span class="ruby-string">&quot;skip_blanks&quot;</span>, <span class="ruby-string">&quot;liberal_parsing&quot;</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr_name</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">a</span> = <span class="ruby-identifier">__send__</span>(<span class="ruby-node">&quot;#{attr_name}?&quot;</span>)
      <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot; &quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">attr_name</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;:&quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">inspect</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">_headers</span> = <span class="ruby-identifier">headers</span>
  <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot; headers:&quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">_headers</span>.<span class="ruby-identifier">inspect</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">_headers</span>
  <span class="ruby-identifier">str</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;&gt;&quot;</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">str</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">''</span>)
  <span class="ruby-keyword">rescue</span>  <span class="ruby-comment"># any encoding error</span>
    <span class="ruby-identifier">str</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">e</span> = <span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">Converter</span>.<span class="ruby-identifier">asciicompat_encoding</span>(<span class="ruby-identifier">s</span>.<span class="ruby-identifier">encoding</span>)
      <span class="ruby-identifier">e</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-identifier">e</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-string">&quot;ASCII-8BIT&quot;</span>)
    <span class="ruby-keyword">end</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">''</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- inspect-source -->
            
          </div>

          

          
        </div><!-- inspect-method -->
      
        <div id="ioctl-method" class="method-detail ">
          <a name="method-i-ioctl"></a>

          
          <div class="method-heading">
            <span class="method-name">ioctl</span><span
              class="method-args">(*args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
            <div class="method-source-code" id="ioctl-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1173</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ioctl</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotImplementedError</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:ioctl</span>)
  <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">ioctl</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- ioctl-source -->
            
          </div>

          

          
        </div><!-- ioctl-method -->
      
        <div id="liberal_parsing-3F-method" class="method-detail ">
          <a name="method-i-liberal_parsing-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">liberal_parsing?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns <code>true</code> if illegal input is handled. See <a
href="CSV.html#method-c-new">::new</a> for details.</p>
            

            
            <div class="method-source-code" id="liberal_parsing-3F-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1121</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">liberal_parsing?</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">liberal_parsing?</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- liberal_parsing-3F-source -->
            
          </div>

          

          
        </div><!-- liberal_parsing-3F-method -->
      
        <div id="line-method" class="method-detail ">
          <a name="method-i-line"></a>

          
          <div class="method-heading">
            <span class="method-name">line</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>The last row read from this file.</p>
            

            
            <div class="method-source-code" id="line-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1146</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">line</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">line</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- line-source -->
            
          </div>

          

          
        </div><!-- line-method -->
      
        <div id="lineno-method" class="method-detail ">
          <a name="method-i-lineno"></a>

          
          <div class="method-heading">
            <span class="method-name">lineno</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>The line number of the last row read from this file. Fields with nested
line-end characters will not affect this count.</p>
            

            
            <div class="method-source-code" id="lineno-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1135</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">lineno</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@writer</span>
    <span class="ruby-ivar">@writer</span>.<span class="ruby-identifier">lineno</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">lineno</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- lineno-source -->
            
          </div>

          

          
        </div><!-- lineno-method -->
      
        <div id="path-method" class="method-detail ">
          <a name="method-i-path"></a>

          
          <div class="method-heading">
            <span class="method-name">path</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
            <div class="method-source-code" id="path-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1178</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">path</span>
  <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">path</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:path</span>)
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- path-source -->
            
          </div>

          

          
        </div><!-- path-method -->
      
        <div id="puts-method" class="method-detail method-alias">
          <a name="method-i-puts"></a>

          
          <div class="method-heading">
            <span class="method-name">puts</span><span
              class="method-args">(row)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="CSV.html#method-i-3C-3C">&lt;&lt;</a>
          </div>
          
        </div><!-- puts-method -->
      
        <div id="quote_char-method" class="method-detail ">
          <a name="method-i-quote_char"></a>

          
          <div class="method-heading">
            <span class="method-name">quote_char</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>The encoded <code>:quote_char</code> used in parsing and writing. See <a
href="CSV.html#method-c-new">::new</a> for details.</p>
            

            
            <div class="method-source-code" id="quote_char-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1023</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">quote_char</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">quote_character</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- quote_char-source -->
            
          </div>

          

          
        </div><!-- quote_char-method -->
      
        <div id="read-method" class="method-detail ">
          <a name="method-i-read"></a>

          
          <div class="method-heading">
            <span class="method-name">read</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Slurps the remaining rows and returns an Array of Arrays.</p>

<p>The data source must be open for reading.</p>
            

            
            <div class="method-source-code" id="read-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1287</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">read</span>
  <span class="ruby-identifier">rows</span> = <span class="ruby-identifier">to_a</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">use_headers?</span>
    <span class="ruby-constant">Table</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">rows</span>, <span class="ruby-identifier">headers</span><span class="ruby-operator">:</span> <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">headers</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">rows</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- read-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="CSV.html#method-i-readlines">readlines</a>
          </div>
          

          
        </div><!-- read-method -->
      
        <div id="readline-method" class="method-detail method-alias">
          <a name="method-i-readline"></a>

          
          <div class="method-heading">
            <span class="method-name">readline</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="CSV.html#method-i-shift">shift</a>
          </div>
          
        </div><!-- readline-method -->
      
        <div id="readlines-method" class="method-detail method-alias">
          <a name="method-i-readlines"></a>

          
          <div class="method-heading">
            <span class="method-name">readlines</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="CSV.html#method-i-read">read</a>
          </div>
          
        </div><!-- readlines-method -->
      
        <div id="return_headers-3F-method" class="method-detail ">
          <a name="method-i-return_headers-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">return_headers?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns <code>true</code> if headers will be returned as a row of results.
See <a href="CSV.html#method-c-new">::new</a> for details.</p>
            

            
            <div class="method-source-code" id="return_headers-3F-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1083</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">return_headers?</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">return_headers?</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- return_headers-3F-source -->
            
          </div>

          

          
        </div><!-- return_headers-3F-method -->
      
        <div id="rewind-method" class="method-detail ">
          <a name="method-i-rewind"></a>

          
          <div class="method-heading">
            <span class="method-name">rewind</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Rewinds the underlying IO object and resets CSV’s lineno() counter.</p>
            

            
            <div class="method-source-code" id="rewind-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1211</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rewind</span>
  <span class="ruby-ivar">@parser</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@parser_enumerator</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@eof_error</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@writer</span>.<span class="ruby-identifier">rewind</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@writer</span>
  <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">rewind</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- rewind-source -->
            
          </div>

          

          
        </div><!-- rewind-method -->
      
        <div id="row_sep-method" class="method-detail ">
          <a name="method-i-row_sep"></a>

          
          <div class="method-heading">
            <span class="method-name">row_sep</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>The encoded <code>:row_sep</code> used in parsing and writing. See <a
href="CSV.html#method-c-new">::new</a> for details.</p>
            

            
            <div class="method-source-code" id="row_sep-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1015</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">row_sep</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">row_separator</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- row_sep-source -->
            
          </div>

          

          
        </div><!-- row_sep-method -->
      
        <div id="shift-method" class="method-detail ">
          <a name="method-i-shift"></a>

          
          <div class="method-heading">
            <span class="method-name">shift</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>The primary read method for wrapped Strings and IOs, a single row is pulled
from the data source, parsed and returned as an Array of fields (if header
rows are not used) or a <a href="CSV/Row.html">CSV::Row</a> (when header
rows are used).</p>

<p>The data source must be open for reading.</p>
            

            
            <div class="method-source-code" id="shift-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1309</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">shift</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@eof_error</span>
    <span class="ruby-identifier">eof_error</span>, <span class="ruby-ivar">@eof_error</span> = <span class="ruby-ivar">@eof_error</span>, <span class="ruby-keyword">nil</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">eof_error</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">parser_enumerator</span>.<span class="ruby-identifier">next</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">StopIteration</span>
    <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- shift-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="CSV.html#method-i-gets">gets</a>, <a href="CSV.html#method-i-readline">readline</a>
          </div>
          

          
        </div><!-- shift-method -->
      
        <div id="skip_blanks-3F-method" class="method-detail ">
          <a name="method-i-skip_blanks-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">skip_blanks?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns <code>true</code> blank lines are skipped by the parser. See <a
href="CSV.html#method-c-new">::new</a> for details.</p>
            

            
            <div class="method-source-code" id="skip_blanks-3F-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1111</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">skip_blanks?</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">skip_blanks?</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- skip_blanks-3F-source -->
            
          </div>

          

          
        </div><!-- skip_blanks-3F-method -->
      
        <div id="skip_lines-method" class="method-detail ">
          <a name="method-i-skip_lines"></a>

          
          <div class="method-heading">
            <span class="method-name">skip_lines</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>The regex marking a line as a comment. See <a
href="CSV.html#method-c-new">::new</a> for details.</p>
            

            
            <div class="method-source-code" id="skip_lines-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1039</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">skip_lines</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">skip_lines</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- skip_lines-source -->
            
          </div>

          

          
        </div><!-- skip_lines-method -->
      
        <div id="stat-method" class="method-detail ">
          <a name="method-i-stat"></a>

          
          <div class="method-heading">
            <span class="method-name">stat</span><span
              class="method-args">(*args)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
            <div class="method-source-code" id="stat-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1182</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">stat</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotImplementedError</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:stat</span>)
  <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">stat</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- stat-source -->
            
          </div>

          

          
        </div><!-- stat-method -->
      
        <div id="to_i-method" class="method-detail ">
          <a name="method-i-to_i"></a>

          
          <div class="method-heading">
            <span class="method-name">to_i</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
            <div class="method-source-code" id="to_i-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1187</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_i</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotImplementedError</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:to_i</span>)
  <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">to_i</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- to_i-source -->
            
          </div>

          

          
        </div><!-- to_i-method -->
      
        <div id="to_io-method" class="method-detail ">
          <a name="method-i-to_io"></a>

          
          <div class="method-heading">
            <span class="method-name">to_io</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
            <div class="method-source-code" id="to_io-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1192</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_io</span>
  <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:to_io</span>) <span class="ruby-operator">?</span> <span class="ruby-ivar">@io</span>.<span class="ruby-identifier">to_io</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@io</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- to_io-source -->
            
          </div>

          

          
        </div><!-- to_io-method -->
      
        <div id="unconverted_fields-3F-method" class="method-detail ">
          <a name="method-i-unconverted_fields-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">unconverted_fields?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns <code>true</code> if unconverted_fields() to parsed results. See <a
href="CSV.html#method-c-new">::new</a> for details.</p>
            

            
            <div class="method-source-code" id="unconverted_fields-3F-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1059</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">unconverted_fields?</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">unconverted_fields?</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- unconverted_fields-3F-source -->
            
          </div>

          

          
        </div><!-- unconverted_fields-3F-method -->
      
        <div id="write_headers-3F-method" class="method-detail ">
          <a name="method-i-write_headers-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">write_headers?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Returns <code>true</code> if headers are written in output. See <a
href="CSV.html#method-c-new">::new</a> for details.</p>
            

            
            <div class="method-source-code" id="write_headers-3F-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File csv.rb, line 1091</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">write_headers?</span>
  <span class="ruby-ivar">@writer_options</span>[<span class="ruby-value">:write_headers</span>]
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- write_headers-3F-source -->
            
          </div>

          

          
        </div><!-- write_headers-3F-method -->
      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  
  <div id='tx_CSV_versioned' class='associated_wrapper'></div><script type='text/javascript'>$("#tx_CSV_versioned").load("/associated/2.5.2/CSV.ihtml");</script> <div id='tx_CSV' class='associated_wrapper'></div><script type='text/javascript'>$("#tx_CSV").load("/associated/CSV.ihtml");</script> 
      
  <!-- dsqus ? -->
     

  
  </div><!-- documentation -->
  <div id='dynamic'>
  </div>
      
          

      
<div class='grids wrapper' id="footer">
  <p><small>This page was generated for Ruby 2.5.2</small></p> 
  
   <p><a href="http://ruby-doc.org">Ruby-doc.org</a> is provided by <a href="http://jamesbritt.com">James Britt</a> and <a href="http://neurogami.com">Neurogami</a>. <a href="http://neurogami.com">Hack your world.  Feed your head.  Live curious</a>.  <div class='oio-inline'><ins data-revive-zoneid="1" data-revive-id="58924a5717c091dfee6dda3f7d38c4d7"></ins><script async src="//ras.ruby-doc.org/vvv/delivery/thesinkjs.php"></script></div></p>
 
       <p><small>Generated with Ruby-doc Rdoc Generator 0.44.2</small>.</p>
  </div>
</div>
  
  

    
 <script type='text/javascript'>
$(document).ready(function() {
      $.ajaxSetup({ cache: false });
      $("#vulns-alert").load("/associated/vulns.ihtml");
    });

    </script>


 
		<script type='text/javascript'>

	function loadPlus(plusdocs){
			$(plusdocs).find("div[class='associated_wrapper']").each (function() {
					$("#" + this.id).append($(plusdocs).find("#" + this.id ));
					});
	} 

   //function loadInline(json){
   // for (var lookFor in json) {
    //  $(lookFor).after(json[lookFor]);
    // }
  // } // end loadInline


$(document).ready(function() {
		$.ajaxSetup({ cache: false });
			$.get('/associated/2.5.2/plus_CSV.ihtml', 
			function(plusdocs) {
			setTimeout(function() {
				loadPlus(plusdocs);
				}, 2000);
			}
			);


//     $.ajax({
//     dataType: "json",
//      url: '/associated/2.5.2/inline_CSV.js',
//      success: function(json) {
// 			setTimeout(function() {
// 				loadInline(json);
// 				}, 2000);
// 			}
//    });

		});
</script>
		
</body>
</html>


